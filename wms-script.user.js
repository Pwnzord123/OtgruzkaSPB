// ==UserScript==
// @name         WMS Container Override Enhanced 10.02.2026 –∞–ø–¥–µ–π—Ç
// @namespace    http://tampermonkey.net/
    // @version      13.0
// @description  –ê–≤—Ç–æ–∑–∞–º–µ–Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ WMS
// @author       –ñ–∏–≥–∞–ª–æ–≤ –Æ.–í.
// @match        https://wms.vseinstrumenti.ru/*
// @exclude      https://wms.vseinstrumenti.ru/Report/*
// @updateURL    https://gist.githubusercontent.com/Pwnzord123/1d4426e47ec6e70963cd7c25fbfbe30d/raw/wms-container-override.user.js
// @downloadURL  https://gist.githubusercontent.com/Pwnzord123/1d4426e47ec6e70963cd7c25fbfbe30d/raw/wms-container-override.user.js
// @grant        GM_xmlhttpRequest
// @grant        GM_setValue
// @grant        GM_getValue
// @grant        GM_notification
// @grant        GM_info
// ==/UserScript==

(function() {
    'use strict';

    // ========== –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø –ê–í–¢–û–û–ë–ù–û–í–õ–ï–ù–ò–Ø ==========

    const UPDATE_CONFIG = {
        // URL –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π (–≤—Å–µ–≥–¥–∞ –ø–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è)
        checkUrl: 'https://gist.githubusercontent.com/Pwnzord123/1d4426e47ec6e70963cd7c25fbfbe30d/raw/wms-container-override.user.js',
        // –ò–Ω—Ç–µ—Ä–≤–∞–ª –∞–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∏ (–≤ —á–∞—Å–∞—Ö)
        autoCheckInterval: 24,
        // –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏ (–≤ –º–∏–Ω—É—Ç–∞—Ö)
        minCheckInterval: 30
    };

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ Raw URL (–∏–∑–±–µ–≥–∞–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è)
    function getActualRawUrl() {
        const baseUrl = UPDATE_CONFIG.checkUrl;
        const timestamp = Date.now();
        return `${baseUrl}?t=${timestamp}`;
    }

    // ========== –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø ==========

    // XPath –ø—É—Ç–∏ –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º
    const DIRECTION_XPATH = '/html/body/div/div/div/div[1]/main/div/div/div/div[5]/div/b[2]';
    const CONTAINER_XPATH_1 = '/html/body/div[1]/div/div/div[1]/main/div/div/div/div[4]/form/div/div[5]/div[2]/div/div/div[1]/h1';
    const CONTAINER_XPATH_2 = '/html/body/div[1]/div/div/div[1]/main/div/div/div/div[5]/div/b[1]';

    // –†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
    let LARGE_FONT_SIZE = '100px';

    // –¢–µ–∫—É—â–∏–π –∞–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–µ—Å–µ—Ç
    let currentPreset = '–°—Ç–æ–ª 18';

    // –ü—Ä–µ—Å–µ—Ç—ã –¥–ª—è –≤—Å–µ—Ö —Å—Ç–æ–ª–æ–≤ –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏–∏ (–í–°–¢–†–û–ï–ù–ù–´–ï –î–ê–ù–ù–´–ï) - —Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ
    const TABLE_PRESETS = {
        "–°—Ç–æ–ª 12": {
            "–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∞—è": "1---–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∞—è",
            "–ü—Ä–æ—Å–≤–µ—â–µ–Ω–∏—è –ú–∞–≥–∞–∑–∏–Ω": "2---–ü—Ä–æ—Å–≤–µ—â–µ–Ω–∏—è –ú–∞–≥–∞–∑–∏–Ω",
            "–î–µ—Å–∞–Ω—Ç–Ω–∏–∫–æ–≤": "3---–î–µ—Å–∞–Ω—Ç–Ω–∏–∫–æ–≤",
            "–ú–æ—Å–∫–æ–≤—Å–∫–∞—è": "4---–ú–æ—Å–∫–æ–≤—Å–∫–∞—è",
            "–õ–µ–Ω–∏–Ω—Å–∫–∏–π": "5---–õ–µ–Ω–∏–Ω—Å–∫–∏–π",
            "–ö—Ä–æ–Ω—à—Ç–∞–¥—Ç": "6---–ö—Ä–æ–Ω—à—Ç–∞–¥—Ç",
            "–õ–æ–º–æ–Ω–æ—Å–æ–≤ –®–≤–µ–π—Ü–∞—Ä—Å–∫–∞—è": "7---–õ–æ–º–æ–Ω–æ—Å–æ–≤ –®–≤–µ–π—Ü–∞—Ä—Å–∫–∞—è",
            "–ü–µ—Ç–µ—Ä–≥–æ—Ñ –ì–æ—Å—Ç–∏–ª–∏—Ü–∫–∞—è": "8---–ü–µ—Ç–µ—Ä–≥–æ—Ñ –ì–æ—Å—Ç–∏–ª–∏—Ü–∫–∞—è",
            "–ë–∞–±—É—à–∫–∏–Ω–∞": "9---–ë–∞–±—É—à–∫–∏–Ω–∞",
            "–ü—Ä–æ—Å–≤–µ—â–µ–Ω–∏—è 72": "10---–ü—Ä–æ—Å–≤–µ—â–µ–Ω–∏—è 72",
            "–ù–æ–≤–æ–µ –î–µ–≤—è—Ç–∫–∏–Ω–æ": "11---–ù–æ–≤–æ–µ –î–µ–≤—è—Ç–∫–∏–Ω–æ",
            "–¢—Ä–∏–±—É—Ü–∞": "12---–¢—Ä–∏–±—É—Ü–∞",
            "–î–µ–≤—è—Ç–∫–∏–Ω–æ-": "13---–î–µ–≤—è—Ç–∫–∏–Ω–æ-",
            "–°—Ç—Ä–æ–π–î–≤–æ—Ä": "14---–°—Ç—Ä–æ–π–î–≤–æ—Ä",
            "–®—É–≤–∞–ª–æ–≤–∞": "15---–®—É–≤–∞–ª–æ–≤–∞",
            "–ë—É–≥—Ä—ã": "16---–ë—É–≥—Ä—ã",
            "–ö—É–∑—å–º–æ–ª–æ–≤—Å–∫–∏–π": "17---–ö—É–∑—å–º–æ–ª–æ–≤—Å–∫–∏–π",
            "–†—ã–±–∞—Ü–∫–æ–µ": "18---–†—ã–±–∞—Ü–∫–æ–µ",
            "–¢–∏—Ö–æ—Ä–µ—Ü–∫–∏–π": "19---–¢–∏—Ö–æ—Ä–µ—Ü–∫–∏–π",
            "–í—ã–±–æ—Ä–≥—Å–∫–æ–µ —à–æ—Å—Å–µ": "20---–í—ã–±–æ—Ä–≥—Å–∫–æ–µ —à–æ—Å—Å–µ",
            "–ú–µ—Ç–∞–ª–ª–æ—Å—Ç—Ä–æ–π": "21---–ú–µ—Ç–∞–ª–ª–æ—Å—Ç—Ä–æ–π",
            "--------22": "-------22"
            
        },
        "–°—Ç–æ–ª 14": {
            "–ë–µ–≥–æ–≤–∞—è": "1---–ë–µ–≥–æ–≤–∞—è",
            "–ó–µ–ª–µ–Ω–æ–≥–æ—Ä—Å–∫": "2---–ó–µ–ª–µ–Ω–æ–≥–æ—Ä—Å–∫",
            "–í—ã–±–æ—Ä–≥—Å–∫–∞—è": "3---–í—ã–±–æ—Ä–≥—Å–∫–∞—è",
            "–û–ø—Ç–∏–∫–æ–≤": "4---–û–ø—Ç–∏–∫–æ–≤",
            "–°–∞–≤—É—à–∫–∏–Ω–∞": "5---–°–∞–≤—É—à–∫–∏–Ω–∞",
            "–ü—Ä–æ—Ñ–µ—Å—Å–æ—Ä–∞ –ü–æ–ø–æ–≤–∞": "6---–ü—Ä–æ—Ñ–µ—Å—Å–æ—Ä–∞ –ü–æ–ø–æ–≤–∞",
            "–ß–µ—Ä–Ω–∞—è —Ä–µ—á–∫–∞": "7---–ß–µ—Ä–Ω–∞—è —Ä–µ—á–∫–∞",
            "–ë–∞–ª—Ç–∏–π—Å–∫–∏–π –≤–æ–∫–∑–∞–ª": "8---–ë–∞–ª—Ç–∏–π—Å–∫–∏–π –≤–æ–∫–∑–∞–ª",
            "--------------": "------------",
            "–ö–æ–º–µ–Ω–¥–∞–Ω—Ç—Å–∫–∏–π": "9---(–ê-5) –¥. 55 –ö–æ–º–µ–Ω–¥–∞–Ω—Ç—Å–∫–∏–π",
            "–ö—É–∑–Ω–µ—Ü–æ–≤—Å–∫–∞—è": "10---–ö—É–∑–Ω–µ—Ü–æ–≤—Å–∫–∞—è",
            "–°—Ç–∞—Ä–æ–¥–µ—Ä–µ–≤–µ–Ω—Å–∫–∞—è": "11---–°—Ç–∞—Ä–æ–¥–µ—Ä–µ–≤–µ–Ω—Å–∫–∞—è",
            "–†–æ—â–∏–Ω–æ –°–æ–≤–µ—Ç—Å–∫–∞—è": "12---–†–æ—â–∏–Ω–æ –°–æ–≤–µ—Ç—Å–∫–∞—è",
            "–ë–æ–≥–∞—Ç—ã—Ä—Å–∫–∏–π": "13---–ë–æ–≥–∞—Ç—ã—Ä—Å–∫–∏–π",
            "–ü–∞—Ä–∞—à—é—Ç–Ω–∞—è": "14---–ü–∞—Ä–∞—à—é—Ç–Ω–∞—è",
            "–ü–ª–µ—Å–µ—Ü–∫–∞—è": "15---–ü–ª–µ—Å–µ—Ü–∫–∞—è",
            "------": "16----",
            "-----": "17------",
            "--------2": "-------2",
            "--------3": "-------3",
            "--------4": "-------4",
            "--------5": "-------5"
        },
        "–°—Ç–æ–ª 16": {
            "–ò–Ω–¥—É—Å—Ç—Ä–∏–∞–ª—å–Ω—ã–π": "1---–ò–Ω–¥—É—Å—Ç—Ä–∏–∞–ª—å–Ω—ã–π",
            "–ö–æ–ª–ø–∏–Ω–æ –õ–µ–Ω–∏–Ω–∞": "2---–ö–æ–ª–ø–∏–Ω–æ –õ–µ–Ω–∏–Ω–∞",
            "–°–ª–∞–≤—ã": "3---–°–ª–∞–≤—ã",
            "–ë–ª–∞–≥–æ–¥–∞—Ç–Ω–∞—è": "4---–ë–ª–∞–≥–æ–¥–∞—Ç–Ω–∞—è",
            "–ù–æ–≤–≥–æ—Ä–æ–¥—Å–∫–∏–π": "5---–ù–æ–≤–≥–æ—Ä–æ–¥—Å–∫–∏–π",
            "–í–∞—Å–∏–ª–µ–æ—Å—Ç—Ä–æ–≤—Å–∫–∞—è": "6---–í–∞—Å–∏–ª–µ–æ—Å—Ç—Ä–æ–≤—Å–∫–∞—è",
            "–Ø–Ω–∏–Ω–æ": "8---–Ø–Ω–∏–Ω–æ",
            "–ó–≤–µ—Ä–µ–≤–æ–π": "9---–ì–∞—Ç—á–∏–Ω–∞ –ó–≤–µ—Ä–µ–≤–æ–π-–ö–Ω—ã—à–∞",
            "–¢–≤–µ—Ä—Å–∫–∞—è": "10---–ö–æ–ª–ø–∏–Ω–æ –¢–≤–µ—Ä—Å–∫–∞—è",
            "–ü—Ä–∏–º–æ—Ä—Å–∫–∞—è": "11---–ü—Ä–∏–º–æ—Ä—Å–∫–∞—è",
            "–°–µ—Ä—Ç–æ–ª–æ–≤–æ": "12---–°–µ—Ä—Ç–æ–ª–æ–≤–æ",
            "–ö—É–±–∏–Ω—Å–∫–∞—è": "13---–ö—É–±–∏–Ω—Å–∫–∞—è",
            "–õ–∞–¥–æ–∂—Å–∫–∞—è": "14---–õ–∞–¥–æ–∂—Å–∫–∞—è",
            "–®–æ—Å—Å–µ –†–µ–≤–æ–ª—é—Ü–∏–∏": "15---–®–æ—Å—Å–µ –†–µ–≤–æ–ª—é—Ü–∏–∏",
            "–≠–Ω–≥–µ–ª—å—Å–∞": "16---–≠–Ω–≥–µ–ª—å—Å–∞ –¥.70",
            "–ü–æ—Ç–∞–ø–æ–≤–∞": "17---–ü–æ—Ç–∞–ø–æ–≤–∞",
            "–ú—É—Ä–º–∞–Ω—Å–∫–æ–µ —à–æ—Å—Å–µ": "18---–ú—É—Ä–º–∞–Ω—Å–∫–æ–µ —à–æ—Å—Å–µ",
            "(–ë-26) –í—Å–µ–≤–æ–ª–æ–∂—Å–∫ –ö—Ä—ã–º—Å–∫–∞—è---136----": "19---–í—Å–µ–≤–æ–ª–æ–∂—Å–∫ –ö—Ä—ã–º—Å–∫–∞—è",
            "--------------": "-----------",
            "(–í-45) –í—Å–µ–≤–æ–ª–æ–∂—Å–∫---131-132---": "7---–í—Å–µ–≤–æ–ª–æ–∂—Å–∫",
            "--------3": "-------3",
            "--------4": "-------4",
            "--------5": "-------5"

        },
        "–°—Ç–æ–ª 18": {
            "–°—Ç–∞—á–µ–∫": "1---–°—Ç–∞—á–µ–∫",
            "–ù–∞–ª–∏—á–Ω–∞—è": "2---–ù–∞–ª–∏—á–Ω–∞—è",
            "–°–ª–∞–≤—è–Ω–∫–∞": "3---–°–ª–∞–≤—è–Ω–∫–∞",
            "–ö–∏—Ä–æ–≤—Å–∫": "4---–ö–∏—Ä–æ–≤—Å–∫",
            "–°–æ–ª–Ω–µ—á–Ω—ã–π –≥–æ—Ä–æ–¥": "5---–°–æ–ª–Ω–µ—á–Ω—ã–π –≥–æ—Ä–æ–¥",
            "–ü–∏—Å–∫–∞—Ä—ë–≤–∫–∞": "6---–ü–∏—Å–∫–∞—Ä—ë–≤–∫–∞",
            "–ù–∞—Ä–≤—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç": "7---–ù–∞—Ä–≤—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç",
            "–ì–∞—Ç—á–∏–Ω–∞ 25 –û–∫—Ç—è–±—Ä—è": "8---–ì–∞—Ç—á–∏–Ω–∞ 25 –û–∫—Ç—è–±—Ä—è",
            "–ö—Ä–∞—Å–Ω–æ–µ –°–µ–ª–æ": "9---–ö—Ä–∞—Å–Ω–æ–µ –°–µ–ª–æ",
            "–û—Ä–¥–∂–æ–Ω–∏–∫–∏–¥–∑–µ": "10---–û—Ä–¥–∂–æ–Ω–∏–∫–∏–¥–∑–µ",
            "–ö—Ä–∞—Å–Ω–æ–ø—É—Ç–∏–ª–æ–≤—Å–∫–∞—è": "11---–ö—Ä–∞—Å–Ω–æ–ø—É—Ç–∏–ª–æ–≤—Å–∫–∞—è",
            "–ù–æ–≤–æ—Å–µ–ª—å–µ": "12---–ù–æ–≤–æ—Å–µ–ª—å–µ",
            "–Æ–∂–Ω–æ–µ —à–æ—Å—Å–µ": "13---–Æ–∂–Ω–æ–µ —à–æ—Å—Å–µ",
            "–î–≤–∏–Ω—Å–∫–∞—è": "14---–î–≤–∏–Ω—Å–∫–∞—è",
            "–¢–µ–ª—å–º–∞–Ω–∞": "15---–¢–µ–ª—å–º–∞–Ω–∞ –ú–∞–≥–∞–∑–∏–Ω",
            "–ì–∞—Ç—á–∏–Ω–∞ –ü—É—à–∫–∏–Ω—Å–∫–æ–µ": "16---–ì–∞—Ç—á–∏–Ω–∞ –ü—É—à–∫–∏–Ω—Å–∫–æ–µ",
            "–≠–Ω–≥–µ–ª—å—Å–∞": "17---–¥.133 –ü—Ä–æ—Å–ø–µ–∫—Ç –≠–Ω–≥–µ–ª—å—Å–∞",
            "–ù–∏–∫–æ–ª—å—Å–∫–æ–µ –°–æ–≤–µ—Ç—Å–∫–∏–π": "18---–ù–∏–∫–æ–ª—å—Å–∫–æ–µ –°–æ–≤–µ—Ç—Å–∫–∏–π",
            "–ü–ª–æ—â–∞–¥—å –ú—É–∂–µ—Å—Ç–≤–∞": "19---–ü–ª–æ—â–∞–¥—å –ú—É–∂–µ—Å—Ç–≤–∞",
            "–¢–∞–ª–ª–∏–Ω—Å–∫–æ–µ —à–æ—Å—Å–µ": "20---–¢–∞–ª–ª–∏–Ω—Å–∫–æ–µ —à–æ—Å—Å–µ",
            "--------2": "-------2",
            "--------3": "-------3",
            "--------4": "-------4",
            "--------5": "-------5"
        },
        "–°—Ç–æ–ª 20": {
            "–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–∞—è": "1---–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–∞—è",
            "–î—ã–±–µ–Ω–∫–æ": "2---–î—ã–±–µ–Ω–∫–æ",
            "–ö—É–¥—Ä–æ–≤–æ": "3---–ö—É–¥—Ä–æ–≤–æ",
            "–ö—É–∑–Ω–µ—Ü–æ–≤—Å–∫–∞—è": "4---–ö—É–∑–Ω–µ—Ü–æ–≤—Å–∫–∞—è",
            "–ù–∞—Ä–æ–¥–Ω–∞—è": "7---–ù–∞—Ä–æ–¥–Ω–∞—è",
            "–§–µ–¥–æ—Ä–æ–≤—Å–∫–æ–µ": "8---–§—ë–¥–æ—Ä–æ–≤—Å–∫–æ–µ",
            "–î—É–Ω–∞–π—Å–∫–∏–π": "9---–î—É–Ω–∞–π—Å–∫–∏–π",
            "–ë–æ—Ä–æ–≤–∞—è": "10---–ë–æ—Ä–æ–≤–∞—è",
            "–ü—É—à–∫–∏–Ω": "11---–ü—É—à–∫–∏–Ω",
            "–°–≤–µ—Ä–¥–ª–æ–≤–∞": "12---–°–≤–µ—Ä–¥–ª–æ–≤–∞",
            "–õ–æ–º–æ–Ω–æ—Å–æ–≤—Å–∫–∞—è": "13---–õ–æ–º–æ–Ω–æ—Å–æ–≤—Å–∫–∞—è",
            "–ß–µ—Ä–Ω–∏–≥–æ–≤—Å–∫–∞—è": "14---–ß–µ—Ä–Ω–∏–≥–æ–≤—Å–∫–∞—è",
            "–û–±—É—Ö–æ–≤—Å–∫–æ–π –û–±–æ—Ä–æ–Ω—ã": "15---–û–±—É—Ö–æ–≤—Å–∫–æ–π –û–±–æ—Ä–æ–Ω—ã",
            "–ö–æ–º–º—É–Ω–∞—Ä": "16---–ö–æ–º–º—É–Ω–∞—Ä",
            "------": "17---",
            "------": "18---------",
            "------": "19---------",
            "------": "20---------",
            "------": "5---------",
            "------": "6---------",
            "--------3": "-------3",
            "--------4": "-------4",
            "--------5": "-------5"
        },
        "–°—Ç–æ–ª 8 –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫": {
            "–ù–æ–≤–≥–æ—Ä–æ–¥": "1---–ù–æ–≤–≥–æ—Ä–æ–¥ –ú–∏—Ä–∞",
            "–ß–∞–ø–∞–µ–≤–∞": "2---–ü–¢–ó –ß–∞–ø–∞–µ–≤–∞",
            "–ú–µ–ª–µ–Ω—Ç—å–µ–≤–æ–π": "3---–ü–¢–ó –ú–µ–ª–µ–Ω—Ç—å–µ–≤–æ–π",
            "–ö–∏–Ω–≥–∏—Å–µ–ø–ø –í–µ—Ä–Ω–∏—Å–∞–∂": "4---–ö–ù–ì –í–µ—Ä–Ω–∏—Å–∞–∂",
            "–ú–æ–Ω—á–µ–≥–æ—Ä—Å–∫": "5---–ú–æ–Ω—á–µ–≥–æ—Ä—Å–∫",
            "–°–≤–µ—Ä–¥–ª–æ–≤–æ": "6---–°–≤–µ—Ä–¥–ª–æ–≤–∞",
            "–°–æ—Å–Ω–æ–≤—ã–π": "7---–°–æ—Å–Ω–æ–≤—ã–π –ë–æ—Ä",
            "------": "-----",
            "-----": "----------",
            "–ê–ø–∞—Ç–∏—Ç—ã": "8---–ê–ø–∞—Ç–∏—Ç—ã",
            "–ö–Ω–∏–ø–æ–≤–∏—á–∞": "9---–ú–†–ö –ö–Ω–∏–ø–æ–≤–∏—á–∞",
            "–ê—Ç–ª–∞–Ω—Ç–∏–∫–∞": "10---–ú–†–ö –ê—Ç–ª–∞–Ω—Ç–∏–∫–∞",
            "–ü—Å–∫–æ–≤—Å–∫–∞—è": "11---–í–ù–û –ü—Å–∫–æ–≤—Å–∫–∞—è",
            "–ú–æ—Å–∫–æ–≤—Å–∫–∞—è": "12---–í–ù–û –ú–æ—Å–∫–æ–≤—Å–∫–∞—è",
            "-------": "------",
            "------": "------",
            "------": "-----",
            "–ß—É–¥–æ–≤–æ": "13---–ß—É–¥–æ–≤–æ",
            "--------1": "-------1",
            "--------2": "-------2",
            "--------3": "-------3",
            "--------4": "-------4",
            "--------5": "-------5"
        },
        "–°—Ç–æ–ª 8 –í—Ç–æ—Ä–Ω–∏–∫": {
            "–ù–æ–≤–≥–æ—Ä–æ–¥": "1---–ù–æ–≤–≥–æ—Ä–æ–¥ –ú–∏—Ä–∞",
            "–ß–∞–ø–∞–µ–≤–∞": "2---–ü–¢–ó –ß–∞–ø–∞–µ–≤–∞",
            "–ú–µ–ª–µ–Ω—Ç—å–µ–≤–æ–π": "3---–ü–¢–ó –ú–µ–ª–µ–Ω—Ç—å–µ–≤–æ–π",
            "–ö–∏–Ω–≥–∏—Å–µ–ø–ø –í–µ—Ä–Ω–∏—Å–∞–∂": "4---–ö–ù–ì –í–µ—Ä–Ω–∏—Å–∞–∂",
            "–ö–∏—Ä–∏—à–∏": "5---–ö–∏—Ä–∏—à–∏",
            "–í–æ–ª—Ö–æ–≤": "6---–í–æ–ª—Ö–æ–≤",
            "–°–æ—Å–Ω–æ–≤—ã–π –ë–æ—Ä": "7---–°–æ—Å–Ω–æ–≤—ã–π –ë–æ—Ä",
            "---------": "-----",
            "-------": "--------",
            "–¢–∏—Ö–≤–∏–Ω": "8---–¢–∏—Ö–≤–∏–Ω",
            "–ü—Å–∫–æ–≤—Å–∫–∞—è": "9---–ü—Å–∫–æ–≤—Å–∫–∞—è",
            "--------": "-------",
            "----------": "----------",
            "------------": "-------------",
            "-----------": "-----------",
            "–õ–æ–¥–µ–π–Ω–æ–µ –ü–æ–ª–µ": "10---–õ–æ–¥–µ–π–Ω–æ–µ –ü–æ–ª–µ",
            "–†–æ–º–∞–Ω—Ç–∏–∫–æ–≤": "11---–ö–∏—Ä–∏—à–∏ –†–æ–º–∞–Ω—Ç–∏–∫–æ–≤",
            "--------1": "-------1",
            "--------2": "-------2",
            "--------3": "-------3",
            "--------4": "-------4",
            "--------5": "-------5"
        },
        "–°—Ç–æ–ª 8 –°—Ä–µ–¥–∞": {
            "–ù–æ–≤–≥–æ—Ä–æ–¥": "1---–ù–æ–≤–≥–æ—Ä–æ–¥ –ú–∏—Ä–∞",
            "–ß–∞–ø–∞–µ–≤–∞": "2---–ü–¢–ó –ß–∞–ø–∞–µ–≤–∞",
            "–ú–µ–ª–µ–Ω—Ç—å–µ–≤–æ–π": "3---–ü–¢–ó –ú–µ–ª–µ–Ω—Ç—å–µ–≤–æ–π",
            "–ö–∏–Ω–≥–∏—Å–µ–ø–ø –í–µ—Ä–Ω–∏—Å–∞–∂": "4---–ö–ù–ì –í–µ—Ä–Ω–∏—Å–∞–∂",
            "–ú–æ–Ω—á–µ–≥–æ—Ä—Å–∫": "5---–ú–æ–Ω—á–µ–≥–æ—Ä—Å–∫",
            "–°–≤–µ—Ä–¥–ª–æ–≤–∞": "6---–°–≤–µ—Ä–¥–ª–æ–≤–∞",
            "–°–æ—Å–Ω–æ–≤—ã–π –ë–æ—Ä": "7---–°–æ—Å–Ω–æ–≤—ã–π –ë–æ—Ä",
            "-------------": "--------",
            "-------------": "------------",
            "–ê–ø–∞—Ç–∏—Ç—ã": "8---–ê–ø–∞—Ç–∏—Ç—ã",
            "–ö–Ω–∏–ø–æ–≤–∏—á–∞": "9---–ú–†–ö –ö–Ω–∏–ø–æ–≤–∏—á–∞",
            "–ê—Ç–ª–∞–Ω—Ç–∏–∫–∞": "10---–ú–†–ö –ê—Ç–ª–∞–Ω—Ç–∏–∫–∞",
            "–ü—Å–∫–æ–≤—Å–∫–∞—è": "11---–í–ù–û –ü—Å–∫–æ–≤—Å–∫–∞—è",
            "–ú–æ—Å–∫–æ–≤—Å–∫–∞—è": "12---–í–ù–û –ú–æ—Å–∫–æ–≤—Å–∫–∞—è",
            "-------------": "-----------",
            "-----------": "-------",
            "---------------": "-----------",
            "–ß—É–¥–æ–≤–æ": "13---–ß—É–¥–æ–≤–æ",
            "--------1": "-------1",
            "--------2": "-------2",
            "--------3": "-------3",
            "--------4": "-------4",
            "--------5": "-------5"
        },
        "–°—Ç–æ–ª 8 –ß–µ—Ç–≤–µ—Ä–≥": {
            "–ù–æ–≤–≥–æ—Ä–æ–¥": "1---–ù–æ–≤–≥–æ—Ä–æ–¥ –ú–∏—Ä–∞",
            "–ß–∞–ø–∞–µ–≤–∞": "2---–ü–¢–ó –ß–∞–ø–∞–µ–≤–∞",
            "–ú–µ–ª–µ–Ω—Ç—å–µ–≤–æ–π": "3---–ü–¢–ó –ú–µ–ª–µ–Ω—Ç—å–µ–≤–æ–π",
            "–ö–∏–Ω–≥–∏—Å–µ–ø–ø –í–µ—Ä–Ω–∏—Å–∞–∂": "4---–ö–ù–ì –í–µ—Ä–Ω–∏—Å–∞–∂",
            "–ö–∏—Ä–∏—à–∏": "5---–ö–∏—Ä–∏—à–∏",
            "–í–æ–ª—Ö–æ–≤": "6---–í–æ–ª—Ö–æ–≤",
            "–°–æ—Å–Ω–æ–≤—ã–π –ë–æ—Ä": "7---–°–æ—Å–Ω–æ–≤—ã–π –ë–æ—Ä",
            "---------------": "-----------",
            "----------------": "------------",
            "–¢–∏—Ö–≤–∏–Ω": "8---–¢–∏—Ö–≤–∏–Ω",
            "–ú–æ–Ω—á–µ–≥–æ—Ä—Å–∫": "9---–ú–æ–Ω—á–µ–≥–æ—Ä—Å–∫",
            "–°–≤–µ—Ä–¥–ª–æ–≤–∞": "10---–°–≤–µ—Ä–¥–ª–æ–≤–∞",
            "–ö–Ω–∏–ø–æ–≤–∏—á–∞": "11---–ú–†–ö –ö–Ω–∏–ø–æ–≤–∏—á–∞",
            "–ê–ø–∞—Ç–∏—Ç—ã": "12---–ê–ø–∞—Ç–∏—Ç—ã",
            "–ê—Ç–ª–∞–Ω—Ç–∏–∫–∞": "13---–ú–†–ö –ê—Ç–ª–∞–Ω—Ç–∏–∫–∞",
            "–ü—Å–∫–æ–≤—Å–∫–∞—è": "14---–í–ù–û –ü—Å–∫–æ–≤—Å–∫–∞—è",
            "–ú–æ—Å–∫–æ–≤—Å–∫–∞—è": "15---–í–ù–û –ú–æ—Å–∫–æ–≤—Å–∫–∞—è",
            "----------------": "1------------",
            "-------------": "----------",
            "------------": "------------",
            "–õ–æ–¥–µ–π–Ω–æ–µ –ü–æ–ª–µ": "16---–õ–æ–¥–µ–π–Ω–æ–µ –ü–æ–ª–µ",
            "–†–æ–º–∞–Ω—Ç–∏–∫–æ–≤": "17---–ö–∏—Ä–∏—à–∏ –†–æ–º–∞–Ω—Ç–∏–∫–æ–≤ ",
            "--------1": "-------1",
            "--------2": "-------2",
            "--------3": "-------3",
            "--------4": "-------4",
            "--------5": "-------5"
        },
        "–°—Ç–æ–ª 8 –ü—è—Ç–Ω–∏—Ü–∞": {
            "–ù–æ–≤–≥–æ—Ä–æ–¥": "1---–ù–æ–≤–≥–æ—Ä–æ–¥ –ú–∏—Ä–∞",
            "–ß–∞–ø–∞–µ–≤–∞": "2---–ü–¢–ó –ß–∞–ø–∞–µ–≤–∞",
            "–ú–µ–ª–µ–Ω—Ç—å–µ–≤–æ–π": "3---–ü–¢–ó –ú–µ–ª–µ–Ω—Ç—å–µ–≤–æ–π",
            "–ö–∏–Ω–≥–∏—Å–µ–ø–ø –í–µ—Ä–Ω–∏—Å–∞–∂": "4---–ö–ù–ì –í–µ—Ä–Ω–∏—Å–∞–∂",
            "–ú–æ–Ω—á–µ–≥–æ—Ä—Å–∫": "5---–ú–æ–Ω—á–µ–≥–æ—Ä—Å–∫",
            "–°–≤–µ—Ä–¥–ª–æ–≤–∞": "6---–ú–†–ö –°–≤–µ—Ä–¥–ª–æ–≤–∞",
            "–°–æ—Å–Ω–æ–≤—ã–π –ë–æ—Ä": "7---–°–æ—Å–Ω–æ–≤—ã–π –ë–æ—Ä",
            "---------------": "-----------",
            "----------------": "------------",
            "–ê–ø–∞—Ç–∏—Ç—ã": "8---–ê–ø–∞—Ç–∏—Ç—ã",
            "–ö–Ω–∏–ø–æ–≤–∏—á–∞": "9---–ú–†–ö –ö–Ω–∏–ø–æ–≤–∏—á–∞",
            "–ê—Ç–ª–∞–Ω—Ç–∏–∫–∞": "10---–ú–†–ö –ê—Ç–ª–∞–Ω—Ç–∏–∫–∞",
            "–ü—Å–∫–æ–≤—Å–∫–∞—è": "11---–í–ù–û –ü—Å–∫–æ–≤—Å–∫–∞—è",
            "–ú–æ—Å–∫–æ–≤—Å–∫–∞—è": "12---–í–ù–û –ú–æ—Å–∫–æ–≤—Å–∫–∞—è",
            "---------------": "------------",
            "--------------": "------------",
            "------------------": "------------",
            "–ß—É–¥–æ–≤–æ": "13---–ß—É–¥–æ–≤–æ",
            "--------1": "-------1",
            "--------2": "-------2",
            "--------3": "-------3",
            "--------4": "-------4",
            "--------5": "-------5"
        },
        "–°—Ç–æ–ª 8 –°—É–±–±–æ—Ç–∞": {
            "–ù–æ–≤–≥–æ—Ä–æ–¥": "1---–ù–æ–≤–≥–æ—Ä–æ–¥ –ú–∏—Ä–∞",
            "–ß–∞–ø–∞–µ–≤–∞": "2---–ü–¢–ó –ß–∞–ø–∞–µ–≤–∞",
            "–ú–µ–ª–µ–Ω—Ç—å–µ–≤–æ–π": "3---–ü–¢–ó –ú–µ–ª–µ–Ω—Ç—å–µ–≤–æ–π",
            "–ö–∏–Ω–≥–∏—Å–µ–ø–ø –í–µ—Ä–Ω–∏—Å–∞–∂": "4---–ö–ù–ì –í–µ—Ä–Ω–∏—Å–∞–∂",
            "–ö–∏—Ä–∏—à–∏": "5---–ö–∏—Ä–∏—à–∏",
            "–í–æ–ª—Ö–æ–≤": "6---–í–æ–ª—Ö–æ–≤",
            "–¢–∏—Ö–≤–∏–Ω": "7---–¢–∏—Ö–≤–∏–Ω",
            "------------": "---------",
            "------------": "------",
            "–ú–æ–Ω—á–µ–≥–æ—Ä—Å–∫": "8--–ú–æ–Ω—á–µ–≥–æ—Ä—Å–∫",
            "–°–≤–µ—Ä–¥–ª–æ–≤–∞": "9---–ú–†–ö –°–≤–µ—Ä–¥–ª–æ–≤–∞",
            "–ö–Ω–∏–ø–æ–≤–∏—á–∞": "10---–ú–†–ö –ö–Ω–∏–ø–æ–≤–∏—á–∞",
            "–ê–ø–∞—Ç–∏—Ç—ã": "11---–ê–ø–∞—Ç–∏—Ç—ã",
            "–ê—Ç–ª–∞–Ω—Ç–∏–∫–∞": "12---–ú–†–ö –ê—Ç–ª–∞–Ω—Ç–∏–∫–∞",
            "–ü—Å–∫–æ–≤—Å–∫–∞—è": "13---–í–ù–û –ü—Å–∫–æ–≤—Å–∫–∞—è",
            "–ú–æ—Å–∫–æ–≤—Å–∫–∞—è": "14---–í–ù–û –ú–æ—Å–∫–æ–≤—Å–∫–∞—è",
            "–õ–æ–¥–µ–π–Ω–æ–µ –ü–æ–ª–µ": "15---–õ–æ–¥–µ–π–Ω–æ–µ –ü–æ–ª–µ",
            "-------------------": "------------",
            "---------------": "-----------",
            "": "",
            "–†–æ–º–∞–Ω—Ç–∏–∫–æ–≤": "16---–ö–∏—Ä–∏—à–∏ –†–æ–º–∞–Ω—Ç–∏–∫–æ–≤",
            "--------1": "-------1",
            "--------2": "-------2",
            "--------3": "-------3",
            "--------4": "-------4",
            "--------5": "-------5"
        },
        "–°—Ç–æ–ª 8 –í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ": {
            "–ù–æ–≤–≥–æ—Ä–æ–¥": "1---–ù–æ–≤–≥–æ—Ä–æ–¥ –ú–∏—Ä–∞",
            "–ö–∏–Ω–≥–∏—Å–µ–ø–ø –í–µ—Ä–Ω–∏—Å–∞–∂": "2---–ö–ù–ì –í–µ—Ä–Ω–∏—Å–∞–∂",
            "–ú–æ–Ω—á–µ–≥–æ—Ä—Å–∫": "3---–ú–æ–Ω—á–µ–≥–æ—Ä—Å–∫",
            "–°–≤–µ—Ä–¥–ª–æ–≤–∞": "4---–ú–†–ö –°–≤–µ—Ä–¥–ª–æ–≤–∞",
            "–ê–ø–∞—Ç–∏—Ç—ã": "5---–ê–ø–∞—Ç–∏—Ç—ã",
            "–ö–Ω–∏–ø–æ–≤–∏—á–∞": "6---–ú–†–ö –ö–Ω–∏–ø–æ–≤–∏—á–∞",
            "–ê—Ç–ª–∞–Ω—Ç–∏–∫–∞": "7---–ú–†–ö –ê—Ç–ª–∞–Ω—Ç–∏–∫–∞",
            "–ü—Å–∫–æ–≤—Å–∫–∞—è": "8---–í–ù–û –ü—Å–∫–æ–≤—Å–∫–∞—è",
            "–ú–æ—Å–∫–æ–≤—Å–∫–∞—è": "9---–í–ù–û –ú–æ—Å–∫–æ–≤—Å–∫–∞—è",
            "---": "---",
            "-----": "---",
            "--": "12---–û—Ç—Ä–∞–¥–Ω–æ–µ",
            "--": "13---–ö—É–¥—Ä–æ–≤–æ",
            "----": "14---–°–∞–≤—É—à–∫–∏–Ω–∞",
            "--------1": "-------1",
            "--------2": "-------2",
            "--------3": "-------3",
            "--------4": "-------4",
            "--------5": "-------5"
        },
        "–°—Ç–æ–ª 10 –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫": {
            "–ú–†–ö - –ú–∞–≥–∞–∑–∏–Ω-—Å–∫–ª–∞–¥": "1---–ú–†–ö - –ú–∞–≥–∞–∑–∏–Ω-—Å–∫–ª–∞–¥",
            "–ö–∏–Ω–≥–∏—Å–µ–ø–ø": "2---–ö–ù–ì - –ö–∏–Ω–≥–∏—Å–µ–ø–ø",
            "–ü–æ–∑–µ–º—Å–∫–æ–≥–æ": "3---–ü–°–ö - –õ–µ–æ–Ω–∞ –ü–æ–∑–µ–º—Å–∫–æ–≥–æ",
            "–ö–æ–ª—å—Å–∫–∏–π": "4---–ú–†–ö - –ö–æ–ª—å—Å–∫–∏–π",
            "–ú–µ—Ä–µ—Ü–∫–æ–≤–∞": "5---–ü–¢–ó - –ü–µ—Ç—Ä–æ–∑–∞–≤–æ–¥—Å–∫ –ú–µ—Ä–µ—Ü–∫–æ–≤–∞",
            "–ë–∞–ª—Ç–∏–π—Å–∫–∞—è": "6---–ü–°–ö - –ë–∞–ª—Ç–∏–π—Å–∫–∞—è",
            "–û–∫—Ç—è–±—Ä—å—Å–∫–∏–π": "7---–ü–°–ö - –ü—Å–∫–æ–≤ –û–∫—Ç—è–±—Ä—å—Å–∫–∏–π",
            "–í–æ–ª–æ–¥–∞—Ä—Å–∫–æ–≥–æ": "8---–õ—É–≥–∞ - –í–æ–ª–æ–¥–∞—Ä—Å–∫–æ–≥–æ",
            "–ü–µ—Ç–µ—Ä–±—É—Ä–≥—Å–∫–∞—è": "9---–í–ù–û - –ü–µ—Ç–µ—Ä–±—É—Ä–≥—Å–∫–∞—è",
            "–°–ª–∞–Ω—Ü—ã": "10---–°–õ–¶ - –°–ª–∞–Ω—Ü—ã –õ–µ–Ω–∏–Ω–∞",
            "–ö–æ–º–º—É–Ω–∞–ª—å–Ω–∞—è": "11---–ü–°–ö - –ö–æ–º–º—É–Ω–∞–ª—å–Ω–∞—è",
            "–†–µ–ø–Ω–∏–∫–æ–≤–∞": "12---–ü–µ—Ç—Ä–æ–∑–∞–≤–æ–¥—Å–∫ –†–µ–ø–Ω–∏–∫–æ–≤–∞",
            "–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∞—è": "13---–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∞—è",
            "–î—É–Ω–∞–π—Å–∫–∏–π": "14---–î—É–Ω–∞–π—Å–∫–∏–π",
            "–ù–∞–ª–∏—á–Ω–∞—è": "15---–ù–∞–ª–∏—á–Ω–∞—è",
            "–®—É–≤–∞–ª–æ–≤–∞": "16---–®—É–≤–∞–ª–æ–≤–∞",
            "–¢–∏—Ö–æ—Ä–µ—Ü–∫–∏–π": "17---–¢–∏—Ö–æ—Ä–µ—Ü–∫–∏–π",
            "--------1": "-------1",
            "--------2": "-------2",
            "--------3": "-------3",
            "--------4": "-------4",
            "--------5": "-------5"
        },
        "–°—Ç–æ–ª 10 –í—Ç–æ—Ä–Ω–∏–∫": {
            "–í—ã–±–æ—Ä–≥": "1---–í—ã–±–æ—Ä–≥ –ú–∏—Ä–∞",
            "–ö–∏–Ω–≥–∏—Å–µ–ø–ø": "2---–ö–ù–ì - –ö–∏–Ω–≥–∏—Å–µ–ø–ø",
            "–ü–æ–∑–µ–º—Å–∫–æ–≥–æ": "3---–ü–°–ö - –õ–µ–æ–Ω–∞ –ü–æ–∑–µ–º—Å–∫–æ–≥–æ",
            "–ö–æ–º–º—É–Ω–∞–ª—å–Ω–∞—è": "4---–ü–°–ö - –ö–æ–º–º—É–Ω–∞–ª—å–Ω–∞—è",
            "–ú–µ—Ä–µ—Ü–∫–æ–≤–∞": "5---–ü–¢–ó - –ü–µ—Ç—Ä–æ–∑–∞–≤–æ–¥—Å–∫ –ú–µ—Ä–µ—Ü–∫–æ–≤–∞",
            "–ë–∞–ª—Ç–∏–π—Å–∫–∞—è": "6---–ü–°–ö - –ë–∞–ª—Ç–∏–π—Å–∫–∞—è",
            "–û–∫—Ç—è–±—Ä—å—Å–∫–∏–π": "7---–ü–°–ö - –ü—Å–∫–æ–≤ –û–∫—Ç—è–±—Ä—å—Å–∫–∏–π",
            "–í–æ–ª–æ–¥–∞—Ä—Å–∫–æ–≥–æ": "8---–õ—É–≥–∞ - –í–æ–ª–æ–¥–∞—Ä—Å–∫–æ–≥–æ",
            "–ü–µ—Ç–µ—Ä–±—É—Ä–≥—Å–∫–∞—è": "9---–í–ù–û - –ü–µ—Ç–µ—Ä–±—É—Ä–≥—Å–∫–∞—è",
            "–°–ª–∞–Ω—Ü—ã": "10---–°–õ–¶ - –°–ª–∞–Ω—Ü—ã –õ–µ–Ω–∏–Ω–∞",
            "–ü—Ä–∏–æ–∑–µ—Ä—Å–∫": "11---–ü—Ä–∏–æ–∑–µ—Ä—Å–∫",
            "–†–µ–ø–Ω–∏–∫–æ–≤–∞": "12---–ü–µ—Ç—Ä–æ–∑–∞–≤–æ–¥—Å–∫ –†–µ–ø–Ω–∏–∫–æ–≤–∞",
            "–ü–∏–∫–∞–ª–µ–≤–æ": "13---–ü–∏–∫–∞–ª–µ–≤–æ",
            "–°–≤–µ—Ç–æ–≥–æ—Ä—Å–∫": "14---–°–≤–µ—Ç–æ–≥–æ—Ä—Å–∫",
            "–í–æ–ª–æ—Å–æ–≤–æ": "15---–í–æ–ª–æ—Å–æ–≤–æ",
            "–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∞—è": "16---–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∞—è",
            "–î—É–Ω–∞–π—Å–∫–∏–π": "17---–î—É–Ω–∞–π—Å–∫–∏–π",
            "–ù–∞–ª–∏—á–Ω–∞—è": "18---–ù–∞–ª–∏—á–Ω–∞—è",
            "–®—É–≤–∞–ª–æ–≤–∞": "19---–®—É–≤–∞–ª–æ–≤–∞",
            "–¢–∏—Ö–æ—Ä–µ—Ü–∫–∏–π": "20---–¢–∏—Ö–æ—Ä–µ—Ü–∫–∏–π",
            "--------1": "-------1",
            "--------2": "-------2",
            "--------3": "-------3",
            "--------4": "-------4",
            "--------5": "-------5"
        },
        "–°—Ç–æ–ª 10 –°—Ä–µ–¥–∞": {
            "–ú–†–ö - –ú–∞–≥–∞–∑–∏–Ω-—Å–∫–ª–∞–¥": "1---–ú–†–ö - –ú–∞–≥–∞–∑–∏–Ω-—Å–∫–ª–∞–¥",
            "–ö–∏–Ω–≥–∏—Å–µ–ø–ø": "2---–ö–ù–ì - –ö–∏–Ω–≥–∏—Å–µ–ø–ø",
            "–ü–æ–∑–µ–º—Å–∫–æ–≥–æ": "3---–ü–°–ö - –õ–µ–æ–Ω–∞ –ü–æ–∑–µ–º—Å–∫–æ–≥–æ",
            "–ö–æ–º–º—É–Ω–∞–ª—å–Ω–∞—è": "4---–ü–°–ö - –ö–æ–º–º—É–Ω–∞–ª—å–Ω–∞—è",
            "–ö–æ–ª—å—Å–∫–∏–π": "5---–ú–†–ö - –ö–æ–ª—å—Å–∫–∏–π",
            "–ú–µ—Ä–µ—Ü–∫–æ–≤–∞": "6---–ü–¢–ó - –ü–µ—Ç—Ä–æ–∑–∞–≤–æ–¥—Å–∫ –ú–µ—Ä–µ—Ü–∫–æ–≤–∞",
            "–°–ª–∞–Ω—Ü—ã": "7---–°–õ–¶ - –°–ª–∞–Ω—Ü—ã –õ–µ–Ω–∏–Ω–∞",
            "–ü–µ—Ç–µ—Ä–±—É—Ä–≥—Å–∫–∞—è": "8---–í–ù–û - –ü–µ—Ç–µ—Ä–±—É—Ä–≥—Å–∫–∞—è",
            "–û–∫—Ç—è–±—Ä—å—Å–∫–∏–π": "9---–ü–°–ö - –ü—Å–∫–æ–≤ –û–∫—Ç—è–±—Ä—å—Å–∫–∏–π",
            "–†–µ–ø–Ω–∏–∫–æ–≤–∞": "10---–ü–µ—Ç—Ä–æ–∑–∞–≤–æ–¥—Å–∫ –†–µ–ø–Ω–∏–∫–æ–≤–∞",
            "–ë–∞–ª—Ç–∏–π—Å–∫–∞—è": "11---–ü–°–ö - –ë–∞–ª—Ç–∏–π—Å–∫–∞—è",
            "–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∞—è": "12---–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∞—è",
            "–î—É–Ω–∞–π—Å–∫–∏–π": "13---–î—É–Ω–∞–π—Å–∫–∏–π",
            "–ù–∞–ª–∏—á–Ω–∞—è": "14---–ù–∞–ª–∏—á–Ω–∞—è",
            "–®—É–≤–∞–ª–æ–≤–∞": "15---–®—É–≤–∞–ª–æ–≤–∞",
            "–¢–∏—Ö–æ—Ä–µ—Ü–∫–∏–π": "16---–¢–∏—Ö–æ—Ä–µ—Ü–∫–∏–π",
            "--------1": "-------1",
            "--------2": "-------2",
            "--------3": "-------3",
            "--------4": "-------4",
            "--------5": "-------5"
        },
        "–°—Ç–æ–ª 10 –ß–µ—Ç–≤–µ—Ä–≥": {
            "–í—ã–±–æ—Ä–≥": "1---–í—ã–±–æ—Ä–≥ –ú–∏—Ä–∞",
            "–ö–∏–Ω–≥–∏—Å–µ–ø–ø": "2---–ö–ù–ì - –ö–∏–Ω–≥–∏—Å–µ–ø–ø",
            "–ü–æ–∑–µ–º—Å–∫–æ–≥–æ": "3---–ü–°–ö - –õ–µ–æ–Ω–∞ –ü–æ–∑–µ–º—Å–∫–æ–≥–æ",
            "–ú–†–ö - –ú–∞–≥–∞–∑–∏–Ω-—Å–∫–ª–∞–¥": "4---–ú–†–ö - –ú–∞–≥–∞–∑–∏–Ω-—Å–∫–ª–∞–¥",
            "–ö–æ–ª—å—Å–∫–∏–π": "5---–ú–†–ö - –ö–æ–ª—å—Å–∫–∏–π",
            "–ë–∞–ª—Ç–∏–π—Å–∫–∞—è": "6---–ü–°–ö - –ë–∞–ª—Ç–∏–π—Å–∫–∞—è",
            "–û–∫—Ç—è–±—Ä—å—Å–∫–∏–π": "7---–ü–°–ö - –ü—Å–∫–æ–≤ –û–∫—Ç—è–±—Ä—å—Å–∫–∏–π",
            "–í–æ–ª–æ–¥–∞—Ä—Å–∫–æ–≥–æ": "8---–õ—É–≥–∞ - –í–æ–ª–æ–¥–∞—Ä—Å–∫–æ–≥–æ",
            "–ü–µ—Ç–µ—Ä–±—É—Ä–≥—Å–∫–∞—è": "9---–í–ù–û - –ü–µ—Ç–µ—Ä–±—É—Ä–≥—Å–∫–∞—è",
            "–°–ª–∞–Ω—Ü—ã": "10---–°–õ–¶ - –°–ª–∞–Ω—Ü—ã –õ–µ–Ω–∏–Ω–∞",
            "–ü—Ä–∏–æ–∑–µ—Ä—Å–∫": "11---–ü—Ä–∏–æ–∑–µ—Ä—Å–∫",
            "–†–µ–ø–Ω–∏–∫–æ–≤–∞": "12---–ü–µ—Ç—Ä–æ–∑–∞–≤–æ–¥—Å–∫ –†–µ–ø–Ω–∏–∫–æ–≤–∞",
            "–ö–æ–º–º—É–Ω–∞–ª—å–Ω–∞—è": "13---–ü–°–ö - –ö–æ–º–º—É–Ω–∞–ª—å–Ω–∞—è",
            "–ú–µ—Ä–µ—Ü–∫–æ–≤–∞": "14---–ü–¢–ó - –ü–µ—Ç—Ä–æ–∑–∞–≤–æ–¥—Å–∫ –ú–µ—Ä–µ—Ü–∫–æ–≤–∞",
            "–í–æ–ª–æ—Å–æ–≤–æ": "15---–í–æ–ª–æ—Å–æ–≤–æ",
            "–ü–∏–∫–∞–ª–µ–≤–æ": "16---–ü–∏–∫–∞–ª–µ–≤–æ",
            "–°–≤–µ—Ç–æ–≥–æ—Ä—Å–∫": "17---–°–≤–µ—Ç–æ–≥–æ—Ä—Å–∫",
            "–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∞—è": "18---–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∞—è",
            "–î—É–Ω–∞–π—Å–∫–∏–π": "19---–î—É–Ω–∞–π—Å–∫–∏–π",
            "–ù–∞–ª–∏—á–Ω–∞—è": "20---–ù–∞–ª–∏—á–Ω–∞—è",
            "–®—É–≤–∞–ª–æ–≤–∞": "21---–®—É–≤–∞–ª–æ–≤–∞",
            "–¢–∏—Ö–æ—Ä–µ—Ü–∫–∏–π": "22---–¢–∏—Ö–æ—Ä–µ—Ü–∫–∏–π",
            "--------1": "-------1",
            "--------2": "-------2",
            "--------3": "-------3",
            "--------4": "-------4",
            "--------5": "-------5"
        },
        "–°—Ç–æ–ª 10 –ü—è—Ç–Ω–∏—Ü–∞": {
            "–ú–†–ö - –ú–∞–≥–∞–∑–∏–Ω-—Å–∫–ª–∞–¥": "1---–ú–†–ö - –ú–∞–≥–∞–∑–∏–Ω-—Å–∫–ª–∞–¥",
            "–ö–∏–Ω–≥–∏—Å–µ–ø–ø": "2---–ö–ù–ì - –ö–∏–Ω–≥–∏—Å–µ–ø–ø",
            "–ü–æ–∑–µ–º—Å–∫–æ–≥–æ": "3---–ü–°–ö - –õ–µ–æ–Ω–∞ –ü–æ–∑–µ–º—Å–∫–æ–≥–æ",
            "–ö–æ–º–º—É–Ω–∞–ª—å–Ω–∞—è": "4---–ü–°–ö - –ö–æ–º–º—É–Ω–∞–ª—å–Ω–∞—è",
            "–ö–æ–ª—å—Å–∫–∏–π": "5---–ú–†–ö - –ö–æ–ª—å—Å–∫–∏–π",
            "–ú–µ—Ä–µ—Ü–∫–æ–≤–∞": "6---–ü–¢–ó - –ü–µ—Ç—Ä–æ–∑–∞–≤–æ–¥—Å–∫ –ú–µ—Ä–µ—Ü–∫–æ–≤–∞",
            "–°–ª–∞–Ω—Ü—ã": "7---–°–õ–¶ - –°–ª–∞–Ω—Ü—ã –õ–µ–Ω–∏–Ω–∞",
            "–ü–µ—Ç–µ—Ä–±—É—Ä–≥—Å–∫–∞—è": "8---–í–ù–û - –ü–µ—Ç–µ—Ä–±—É—Ä–≥—Å–∫–∞—è",
            "–û–∫—Ç—è–±—Ä—å—Å–∫–∏–π": "9---–ü–°–ö - –ü—Å–∫–æ–≤ –û–∫—Ç—è–±—Ä—å—Å–∫–∏–π",
            "–†–µ–ø–Ω–∏–∫–æ–≤–∞": "10---–ü–µ—Ç—Ä–æ–∑–∞–≤–æ–¥—Å–∫ –†–µ–ø–Ω–∏–∫–æ–≤–∞",
            "–ë–∞–ª—Ç–∏–π—Å–∫–∞—è": "11---–ü–°–ö - –ë–∞–ª—Ç–∏–π—Å–∫–∞—è",
            "–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∞—è": "12---–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∞—è",
            "–î—É–Ω–∞–π—Å–∫–∏–π": "13---–î—É–Ω–∞–π—Å–∫–∏–π",
            "–ù–∞–ª–∏—á–Ω–∞—è": "14---–ù–∞–ª–∏—á–Ω–∞—è",
            "–®—É–≤–∞–ª–æ–≤–∞": "15---–®—É–≤–∞–ª–æ–≤–∞",
            "–¢–∏—Ö–æ—Ä–µ—Ü–∫–∏–π": "16---–¢–∏—Ö–æ—Ä–µ—Ü–∫–∏–π",
            "--------1": "-------1",
            "--------2": "-------2",
            "--------3": "-------3",
            "--------4": "-------4",
            "--------5": "-------5"
        },
        "–°—Ç–æ–ª 10 –°—É–±–±–æ—Ç–∞": {
            "–í—ã–±–æ—Ä–≥": "1---–í—ã–±–æ—Ä–≥ –ú–∏—Ä–∞",
            "–ö–∏–Ω–≥–∏—Å–µ–ø–ø": "2---–ö–ù–ì - –ö–∏–Ω–≥–∏—Å–µ–ø–ø",
            "–ü–æ–∑–µ–º—Å–∫–æ–≥–æ": "3---–ü–°–ö - –õ–µ–æ–Ω–∞ –ü–æ–∑–µ–º—Å–∫–æ–≥–æ",
            "–ú–†–ö - –ú–∞–≥–∞–∑–∏–Ω-—Å–∫–ª–∞–¥": "4---–ú–†–ö - –ú–∞–≥–∞–∑–∏–Ω-—Å–∫–ª–∞–¥",
            "–ö–æ–ª—å—Å–∫–∏–π": "5---–ú–†–ö - –ö–æ–ª—å—Å–∫–∏–π",
            "–ë–∞–ª—Ç–∏–π—Å–∫–∞—è": "6---–ü–°–ö - –ë–∞–ª—Ç–∏–π—Å–∫–∞—è",
            "–û–∫—Ç—è–±—Ä—å—Å–∫–∏–π": "7---–ü–°–ö - –ü—Å–∫–æ–≤ –û–∫—Ç—è–±—Ä—å—Å–∫–∏–π",
            "–í–æ–ª–æ–¥–∞—Ä—Å–∫–æ–≥–æ": "8---–õ—É–≥–∞ - –í–æ–ª–æ–¥–∞—Ä—Å–∫–æ–≥–æ",
            "–ü–µ—Ç–µ—Ä–±—É—Ä–≥—Å–∫–∞—è": "9---–í–ù–û - –ü–µ—Ç–µ—Ä–±—É—Ä–≥—Å–∫–∞—è",
            "–°–ª–∞–Ω—Ü—ã": "10---–°–õ–¶ - –°–ª–∞–Ω—Ü—ã –õ–µ–Ω–∏–Ω–∞",
            "–ü—Ä–∏–æ–∑–µ—Ä—Å–∫": "11---–ü—Ä–∏–æ–∑–µ—Ä—Å–∫",
            "–†–µ–ø–Ω–∏–∫–æ–≤–∞": "12---–ü–µ—Ç—Ä–æ–∑–∞–≤–æ–¥—Å–∫ –†–µ–ø–Ω–∏–∫–æ–≤–∞",
            "–ö–æ–º–º—É–Ω–∞–ª—å–Ω–∞—è": "13---–ü–°–ö - –ö–æ–º–º—É–Ω–∞–ª—å–Ω–∞—è",
            "–ú–µ—Ä–µ—Ü–∫–æ–≤–∞": "14---–ü–¢–ó - –ü–µ—Ç—Ä–æ–∑–∞–≤–æ–¥—Å–∫ –ú–µ—Ä–µ—Ü–∫–æ–≤–∞",
            "–ü–∏–∫–∞–ª–µ–≤–æ": "15---–ü–∏–∫–∞–ª–µ–≤–æ",
            "–°–≤–µ—Ç–æ–≥–æ—Ä—Å–∫": "16---–°–≤–µ—Ç–æ–≥–æ—Ä—Å–∫",
            "----": "17---–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∞—è",
            "----": "18---–î—É–Ω–∞–π—Å–∫–∏–π",
            "----": "19---–ù–∞–ª–∏—á–Ω–∞—è",
            "-----": "20---–®—É–≤–∞–ª–æ–≤–∞",
            "----": "21---–¢–∏—Ö–æ—Ä–µ—Ü–∫–∏–π",
            "--------1": "-------1",
            "--------2": "-------2",
            "--------3": "-------3",
            "--------4": "-------4",
            "--------5": "-------5"
        },
        "–°—Ç–æ–ª 10 –í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ": {
            "–ú–†–ö - –ú–∞–≥–∞–∑–∏–Ω-—Å–∫–ª–∞–¥": "1---–ú–†–ö - –ú–∞–≥–∞–∑–∏–Ω-—Å–∫–ª–∞–¥",
            "–ö–∏–Ω–≥–∏—Å–µ–ø–ø": "2---–ö–ù–ì - –ö–∏–Ω–≥–∏—Å–µ–ø–ø",
            "–ü–µ—Ç–µ—Ä–±—É—Ä–≥—Å–∫–∞—è": "3---–í–ù–û - –ü–µ—Ç–µ—Ä–±—É—Ä–≥—Å–∫–∞—è",
            "–ö–æ–ª—å—Å–∫–∏–π": "4---–ú–†–ö - –ö–æ–ª—å—Å–∫–∏–π",
            "–í–æ–ª–æ—Å–æ–≤–æ": "5---–í–æ–ª–æ—Å–æ–≤–æ",
            "--------": "6---–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∞—è",
            "-----": "7---–î—É–Ω–∞–π—Å–∫–∏–π",
            "---": "8---–ù–∞–ª–∏—á–Ω–∞—è",
            "-------": "9---–®—É–≤–∞–ª–æ–≤–∞",
            "----": "10---–¢–∏—Ö–æ—Ä–µ—Ü–∫–∏–π",
            "--------1": "-------1",
            "--------2": "-------2",
            "--------3": "-------3",
            "--------4": "-------4",
            "--------5": "-------5"
        }
    };

    // ========== –ù–ê–°–¢–†–û–ô–ö–ò –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–ò ==========

    // –ò–Ω—Ç–µ—Ä–≤–∞–ª—ã –ø—Ä–æ–≤–µ—Ä–∫–∏
    const CHECK_INTERVAL = 160; // –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ (–º—Å)
    const CACHE_LIFETIME = 100; // –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∫—ç—à–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–º—Å)

    // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
    let isEnabled = true;
    let normalCheckTimer = null;
    let fastCheckTimer = null;

    // –ö—ç—à —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è
    let cachedElements = {
        direction: null,
        container1: null,
        container2: null,
        lastUpdate: 0
    };

    // ========== –§–£–ù–ö–¶–ò–ò –ê–í–¢–û–û–ë–ù–û–í–õ–ï–ù–ò–Ø ==========

    // –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏
    function getCurrentVersion() {
        const version = GM_info.script.version || '2.6';
        return version;
    }

    // –ò–∑–≤–ª–µ—á—å –≤–µ—Ä—Å–∏—é –∏–∑ –∫–æ–¥–∞ —Å–∫—Ä–∏–ø—Ç–∞
    function extractVersionFromCode(code) {
        const versionMatch = code.match(/@version\s+([^\s\r\n]+)/);
        return versionMatch ? versionMatch[1].trim() : null;
    }

    // –°—Ä–∞–≤–Ω–∏—Ç—å –≤–µ—Ä—Å–∏–∏ (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç true –µ—Å–ª–∏ newVersion –Ω–æ–≤–µ–µ currentVersion)
    function isNewerVersion(currentVersion, newVersion) {
        if (!currentVersion || !newVersion) return false;

        const current = currentVersion.split('.').map(n => parseInt(n) || 0);
        const latest = newVersion.split('.').map(n => parseInt(n) || 0);

        for (let i = 0; i < Math.max(current.length, latest.length); i++) {
            const currentPart = current[i] || 0;
            const latestPart = latest[i] || 0;

            if (latestPart > currentPart) return true;
            if (latestPart < currentPart) return false;
        }

        return false;
    }

    // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–æ–∂–Ω–æ –ª–∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
    function canCheckForUpdates() {
        const lastCheck = GM_getValue('last_update_check', 0);
        const now = Date.now();
        const minInterval = UPDATE_CONFIG.minCheckInterval * 60 * 1000; // –º–∏–Ω—É—Ç—ã –≤ –º—Å

        return (now - lastCheck) >= minInterval;
    }

    // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
    function saveLastCheckTime() {
        GM_setValue('last_update_check', Date.now());
    }

    // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
    function checkForUpdates(showNotifications = true) {
        return new Promise((resolve, reject) => {
            if (!canCheckForUpdates() && showNotifications) {
                const remaining = Math.ceil((UPDATE_CONFIG.minCheckInterval * 60 * 1000 - (Date.now() - GM_getValue('last_update_check', 0))) / 60000);
                showNotification(`–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —á–µ—Ä–µ–∑ ${remaining} –º–∏–Ω`, 'info');
                resolve(false);
                return;
            }

            if (showNotifications) {
                showNotification('–ü—Ä–æ–≤–µ—Ä—è–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è...', 'info');
            }

            // –ò—Å–ø–æ–ª—å–∑—É–µ–º –∞–∫—Ç—É–∞–ª—å–Ω—ã–π URL —Å –∑–∞—â–∏—Ç–æ–π –æ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
            const actualUrl = getActualRawUrl();
            console.log('üîÑ –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ URL:', actualUrl);

            GM_xmlhttpRequest({
                method: 'GET',
                url: actualUrl,
                timeout: 15000,
                headers: {
                    'Cache-Control': 'no-cache',
                    'Pragma': 'no-cache'
                },
                onload: function(response) {
                    saveLastCheckTime();

                    if (response.status === 200) {
                        const newCode = response.responseText;
                        const newVersion = extractVersionFromCode(newCode);
                        const currentVersion = getCurrentVersion();

                        console.log('üîÑ –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π:');
                        console.log('–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è:', currentVersion);
                        console.log('–í–µ—Ä—Å–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:', newVersion);

                        if (newVersion && isNewerVersion(currentVersion, newVersion)) {
                            // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–æ–≤—ã–π –∫–æ–¥ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏
                            GM_setValue('pending_update_code', newCode);
                            GM_setValue('pending_update_version', newVersion);

                            if (showNotifications) {
                                showAdvancedUpdateNotification(currentVersion, newVersion);
                            }

                            console.log('‚úÖ –î–æ—Å—Ç—É–ø–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:', newVersion);
                            resolve(true);
                        } else {
                            if (showNotifications) {
                                showNotification('–£ –≤–∞—Å –ø–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è —Å–∫—Ä–∏–ø—Ç–∞', 'success');
                            }
                            console.log('‚úÖ –°–∫—Ä–∏–ø—Ç –∞–∫—Ç—É–∞–ª–µ–Ω');
                            resolve(false);
                        }
                    } else {
                        console.error('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π:', response.status);
                        if (showNotifications) {
                            showNotification(`–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π: HTTP ${response.status}`, 'error');
                        }
                        reject(new Error(`HTTP ${response.status}`));
                    }
                },
                onerror: function(error) {
                    console.error('‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π:', error);
                    if (showNotifications) {
                        showNotification('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π', 'error');
                    }
                    reject(error);
                },
                ontimeout: function() {
                    console.error('‚ùå –¢–∞–π–º–∞—É—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π');
                    if (showNotifications) {
                        showNotification('–¢–∞–π–º–∞—É—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π', 'error');
                    }
                    reject(new Error('Timeout'));
                }
            });
        });
    }

    // ========== –£–õ–£–ß–®–ï–ù–ù–û–ï –£–í–ï–î–û–ú–õ–ï–ù–ò–ï –û–ë –û–ë–ù–û–í–õ–ï–ù–ò–ò ==========

    function showAdvancedUpdateNotification(currentVersion, newVersion) {
        // –°–æ–∑–¥–∞—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        const notification = document.createElement('div');
        notification.id = 'wms-advanced-update-notification';
        notification.style.cssText = `
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 25px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.4);
            z-index: 10001;
            font-family: Arial, sans-serif;
            font-size: 14px;
            max-width: 400px;
            border: 2px solid rgba(255,255,255,0.3);
            animation: slideIn 0.5s ease-out;
        `;

        // –î–æ–±–∞–≤–∏—Ç—å CSS –∞–Ω–∏–º–∞—Ü–∏—é
        if (!document.getElementById('wms-update-animations')) {
            const animationStyle = document.createElement('style');
            animationStyle.id = 'wms-update-animations';
            animationStyle.textContent = `
                @keyframes slideIn {
                    from { transform: translateX(100%); opacity: 0; }
                    to { transform: translateX(0); opacity: 1; }
                }
                .wms-update-btn {
                    transition: all 0.3s ease;
                    transform: scale(1);
                }
                .wms-update-btn:hover {
                    transform: scale(1.05);
                    box-shadow: 0 4px 15px rgba(0,0,0,0.3);
                }
            `;
            document.head.appendChild(animationStyle);
        }

        notification.innerHTML = `
            <div style="text-align: center; margin-bottom: 15px;">
                <div style="font-size: 24px; margin-bottom: 5px;">üöÄ</div>
                <div style="font-weight: bold; font-size: 18px;">–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–æ!</div>
            </div>

            <div style="margin-bottom: 20px; line-height: 1.5; text-align: center;">
                <div style="background: rgba(255,255,255,0.2); padding: 10px; border-radius: 8px; margin-bottom: 10px;">
                    <div style="font-size: 12px; opacity: 0.8;">–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è</div>
                    <div style="font-weight: bold; font-size: 16px;">v${currentVersion}</div>
                </div>
                <div style="font-size: 20px; margin: 5px 0;">‚¨áÔ∏è</div>
                <div style="background: rgba(255,255,255,0.3); padding: 10px; border-radius: 8px;">
                    <div style="font-size: 12px; opacity: 0.8;">–ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è</div>
                    <div style="font-weight: bold; font-size: 16px; color: #FFD700;">v${newVersion}</div>
                </div>
            </div>
            <div style="display: flex; flex-direction: column; gap: 10px;">
                <button id="wms-auto-update-btn" class="wms-update-btn" style="padding: 12px 20px; background: #4CAF50; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; font-size: 14px;">
                    ‚ö° –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
                </button>
                <button id="wms-manual-update-btn" class="wms-update-btn" style="padding: 10px 20px; background: #FF9800; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 12px;">
                    üìã –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
                </button>
                <button id="wms-dismiss-update-btn" class="wms-update-btn" style="padding: 8px 20px; background: rgba(255,255,255,0.2); color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 12px;">
                    ‚ùå –û—Ç–ª–æ–∂–∏—Ç—å
                </button>
            </div>
            <div style="margin-top: 15px; font-size: 11px; opacity: 0.8; text-align: center;">
                –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Tampermonkey API
            </div>
        `;

        document.body.appendChild(notification);

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–Ω–æ–ø–æ–∫
        setTimeout(() => {
            const autoBtn = document.getElementById('wms-auto-update-btn');
            const manualBtn = document.getElementById('wms-manual-update-btn');
            const dismissBtn = document.getElementById('wms-dismiss-update-btn');

            if (autoBtn) {
                autoBtn.addEventListener('click', function() {
                    this.innerHTML = '‚è≥ –û–±–Ω–æ–≤–ª—è–µ–º...';
                    this.disabled = true;
                    performAutoUpdate();
                });
            }

            if (manualBtn) {
                manualBtn.addEventListener('click', function() {
                    showManualUpdateDialog();
                    removeUpdateNotification();
                });
            }

            if (dismissBtn) {
                dismissBtn.addEventListener('click', function() {
                    removeUpdateNotification();
                });
            }
        }, 100);

        // –ê–≤—Ç–æ—É–¥–∞–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 60 —Å–µ–∫—É–Ω–¥
        setTimeout(() => {
            removeUpdateNotification();
        }, 60000);
    }

    function removeUpdateNotification() {
        const notification = document.getElementById('wms-advanced-update-notification');
        if (notification && notification.parentNode) {
            notification.style.animation = 'slideOut 0.3s ease-in';
            setTimeout(() => {
                if (notification.parentNode) {
                    document.body.removeChild(notification);
                }
            }, 300);
        }
    }

    // ========== –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–û–ï –û–ë–ù–û–í–õ–ï–ù–ò–ï ==========

    function performAutoUpdate() {
        console.log('üöÄ –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è...');

        try {
            // –ü–æ–ø—ã—Ç–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Tampermonkey API –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
            if (typeof GM_info !== 'undefined' && GM_info.script && GM_info.script.updateURL) {
                showNotification('–ò—Å–ø–æ–ª—å–∑—É–µ–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º Tampermonkey...', 'info');

                // –û—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è Tampermonkey
                window.open(`chrome-extension://dhdgffkkebhmkfjojejmpbldmpobfkfo/options.html#nav=dashboard`, '_blank');

                setTimeout(() => {
                    showTampermonkeyUpdateInstructions();
                }, 1000);

            } else {
                // Fallback –∫ —Ä—É—á–Ω–æ–º—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é
                console.log('Tampermonkey API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ —Ä—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ');
                showManualUpdateDialog();
            }
        } catch (error) {
            console.error('–û—à–∏–±–∫–∞ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:', error);
            showNotification('–û—à–∏–±–∫–∞ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è. –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ —Ä—É—á–Ω–æ–π —Ä–µ–∂–∏–º.', 'error');
            showManualUpdateDialog();
        }

        removeUpdateNotification();
    }

    function showTampermonkeyUpdateInstructions() {
        const dialog = document.createElement('div');
        dialog.id = 'wms-tampermonkey-instructions';
        dialog.style.cssText = `
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 10003;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: Arial, sans-serif;
        `;

        const pendingVersion = GM_getValue('pending_update_version', '–Ω–æ–≤–∞—è');

        dialog.innerHTML = `
            <div style="background: white; padding: 40px; border-radius: 15px; max-width: 600px; text-align: center; box-shadow: 0 20px 60px rgba(0,0,0,0.4);">
                <div style="font-size: 28px; margin-bottom: 20px;">üöÄ</div>
                <div style="font-size: 24px; font-weight: bold; margin-bottom: 20px; color: #333;">
                    –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
                </div>

                <div style="background: #e3f2fd; padding: 20px; border-radius: 10px; margin-bottom: 25px; text-align: left;">
                    <div style="font-weight: bold; color: #1976d2; margin-bottom: 15px; text-align: center;">üìã –ü—Ä–æ—Å—Ç—ã–µ —à–∞–≥–∏:</div>
                    <div style="color: #333; line-height: 1.6;">
                        <div style="margin-bottom: 10px;">‚úÖ <strong>–®–∞–≥ 1:</strong> –û—Ç–∫—Ä–æ–µ—Ç—Å—è Dashboard Tampermonkey</div>
                        <div style="margin-bottom: 10px;">‚úÖ <strong>–®–∞–≥ 2:</strong> –ù–∞–π–¥–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç "WMS Container Override Enhanced"</div>
                        <div style="margin-bottom: 10px;">‚úÖ <strong>–®–∞–≥ 3:</strong> –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–û–±–Ω–æ–≤–∏—Ç—å" –∏–ª–∏ "Update"</div>
                        <div style="margin-bottom: 10px;">‚úÖ <strong>–®–∞–≥ 4:</strong> –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —ç—Ç—É —Å—Ç—Ä–∞–Ω–∏—Ü—É</div>
                    </div>
                </div>
                <div style="background: #fff3e0; padding: 15px; border-radius: 8px; margin-bottom: 25px;">
                    <div style="font-weight: bold; color: #f57c00; margin-bottom: 5px;">
                        üéØ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ –≤–µ—Ä—Å–∏–∏ v${pendingVersion}
                    </div>
                    <div style="font-size: 12px; color: #666;">
                        –°–∫—Ä–∏–ø—Ç –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
                    </div>
                </div>
                <div style="display: flex; gap: 15px; justify-content: center;">
                    <button id="wms-open-dashboard-btn" style="padding: 12px 25px; background: #4CAF50; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">
                        üîß –û—Ç–∫—Ä—ã—Ç—å Dashboard
                    </button>
                    <button id="wms-close-instructions-btn" style="padding: 12px 25px; background: #666; color: white; border: none; border-radius: 8px; cursor: pointer;">
                        –ó–∞–∫—Ä—ã—Ç—å
                    </button>
                </div>
            </div>
        `;

        document.body.appendChild(dialog);

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
        setTimeout(() => {
            const openBtn = document.getElementById('wms-open-dashboard-btn');
            const closeBtn = document.getElementById('wms-close-instructions-btn');

            if (openBtn) {
                openBtn.addEventListener('click', function() {
                    window.open(`chrome-extension://dhdgffkkebhmkfjojejmpbldmpobfkfo/options.html#nav=dashboard`, '_blank');
                });
            }

            if (closeBtn) {
                closeBtn.addEventListener('click', function() {
                    const dialogElement = document.getElementById('wms-tampermonkey-instructions');
                    if (dialogElement && dialogElement.parentNode) {
                        document.body.removeChild(dialogElement);
                    }
                });
            }
        }, 100);
    }

    // ========== –†–£–ß–ù–û–ï –û–ë–ù–û–í–õ–ï–ù–ò–ï ==========

    function showManualUpdateDialog() {
        const pendingCode = GM_getValue('pending_update_code', null);
        const pendingVersion = GM_getValue('pending_update_version', null);

        if (!pendingCode || !pendingVersion) {
            showNotification('–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è', 'error');
            return;
        }

        const dialog = document.createElement('div');
        dialog.id = 'wms-manual-update-dialog';
        dialog.style.cssText = `
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 10002;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: Arial, sans-serif;
        `;

        dialog.innerHTML = `
            <div style="background: white; padding: 30px; border-radius: 15px; max-width: 900px; max-height: 90vh; overflow-y: auto; box-shadow: 0 20px 60px rgba(0,0,0,0.5);">
                <div style="text-align: center; margin-bottom: 25px;">
                    <div style="font-size: 32px; margin-bottom: 10px;">üìã</div>
                    <div style="font-size: 24px; font-weight: bold; color: #333;">
                        –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ v${pendingVersion}
                    </div>
                </div>

                <div style="background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%); padding: 20px; border-radius: 10px; margin-bottom: 25px;">
                    <div style="font-weight: bold; color: #1976d2; margin-bottom: 15px; text-align: center;">üéØ –ë—ã—Å—Ç—Ä–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</div>
                    <div style="color: #333; line-height: 1.6;">
                        <div style="margin-bottom: 8px;"><strong>1.</strong> –ù–∞–∂–º–∏—Ç–µ "üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å –∫–æ–¥"</div>
                        <div style="margin-bottom: 8px;"><strong>2.</strong> –ù–∞–∂–º–∏—Ç–µ "üîß –û—Ç–∫—Ä—ã—Ç—å —Ä–µ–¥–∞–∫—Ç–æ—Ä" (–æ—Ç–∫—Ä–æ–µ—Ç—Å—è Tampermonkey)</div>
                        <div style="margin-bottom: 8px;"><strong>3.</strong> –í—ã–¥–µ–ª–∏—Ç–µ –≤–µ—Å—å —Å—Ç–∞—Ä—ã–π –∫–æ–¥ (Ctrl+A)</div>
                        <div style="margin-bottom: 8px;"><strong>4.</strong> –í—Å—Ç–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π –∫–æ–¥ (Ctrl+V)</div>
                        <div><strong>5.</strong> –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ (Ctrl+S) –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É</div>
                    </div>
                </div>

                <div style="display: flex; gap: 15px; margin-bottom: 20px; flex-wrap: wrap; justify-content: center;">
                    <button id="wms-copy-all-code" style="padding: 12px 20px; background: #4CAF50; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; font-size: 14px;">
                        üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å –∫–æ–¥
                    </button>
                    <button id="wms-open-editor" style="padding: 12px 20px; background: #2196F3; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 14px;">
                        üîß –û—Ç–∫—Ä—ã—Ç—å —Ä–µ–¥–∞–∫—Ç–æ—Ä
                    </button>
                    <button id="wms-select-all-code" style="padding: 12px 20px; background: #FF9800; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 14px;">
                        üéØ –í—ã–¥–µ–ª–∏—Ç—å –∫–æ–¥
                    </button>
                </div>

                <div style="margin-bottom: 20px;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                        <label style="font-weight: bold; color: #333;">–ù–æ–≤—ã–π –∫–æ–¥ —Å–∫—Ä–∏–ø—Ç–∞ v${pendingVersion}:</label>
                        <span style="font-size: 12px; color: #666;">–†–∞–∑–º–µ—Ä: ${Math.round(pendingCode.length / 1024)} KB</span>
                    </div>
                    <textarea id="wms-manual-update-textarea" readonly style="width: 100%; height: 350px; font-family: 'Courier New', monospace; font-size: 11px; border: 2px solid #ddd; border-radius: 8px; padding: 15px; background: #f8f9fa; line-height: 1.4;">${pendingCode}</textarea>
                </div>

                <div style="text-align: center; padding-top: 20px; border-top: 2px solid #eee;">
                    <button id="wms-close-manual-dialog" style="padding: 10px 30px; background: #666; color: white; border: none; border-radius: 8px; cursor: pointer;">
                        –ó–∞–∫—Ä—ã—Ç—å
                    </button>
                </div>
            </div>
        `;

        document.body.appendChild(dialog);

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–Ω–æ–ø–æ–∫
        setTimeout(() => {
            const copyBtn = document.getElementById('wms-copy-all-code');
            const editorBtn = document.getElementById('wms-open-editor');
            const selectBtn = document.getElementById('wms-select-all-code');
            const closeBtn = document.getElementById('wms-close-manual-dialog');
            const textarea = document.getElementById('wms-manual-update-textarea');

            if (copyBtn && textarea) {
                copyBtn.addEventListener('click', function() {
                    textarea.select();
                    try {
                        document.execCommand('copy');
                        this.innerHTML = '‚úÖ –ö–æ–¥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!';
                        this.style.background = '#4CAF50';
                        showNotification('–ö–æ–¥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!', 'success');

                        // –°–±—Ä–æ—Å–∏—Ç—å —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
                        setTimeout(() => {
                            this.innerHTML = 'üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å –∫–æ–¥';
                            this.style.background = '#4CAF50';
                        }, 3000);
                    } catch (e) {
                        console.error('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:', e);
                        showNotification('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è. –í—ã–¥–µ–ª–∏—Ç–µ –∫–æ–¥ –≤—Ä—É—á–Ω—É—é.', 'error');
                    }
                });
            }

            if (editorBtn) {
                editorBtn.addEventListener('click', function() {
                    // –û—Ç–∫—Ä—ã—Ç—å —Ä–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
                    window.open('chrome-extension://dhdgffkkebhmkfjojejmpbldmpobfkfo/options.html#nav=dashboard', '_blank');
                    showNotification('–û—Ç–∫—Ä–æ–π—Ç–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä —Å–∫—Ä–∏–ø—Ç–∞ –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ', 'info');
                });
            }

            if (selectBtn && textarea) {
                selectBtn.addEventListener('click', function() {
                    textarea.select();
                    textarea.focus();
                    showNotification('–ö–æ–¥ –≤—ã–¥–µ–ª–µ–Ω. –¢–µ–ø–µ—Ä—å —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ–≥–æ (Ctrl+C)', 'info');
                });
            }

            if (closeBtn) {
                closeBtn.addEventListener('click', function() {
                    const dialogElement = document.getElementById('wms-manual-update-dialog');
                    if (dialogElement && dialogElement.parentNode) {
                        document.body.removeChild(dialogElement);
                    }
                });
            }

            // –ê–≤—Ç–æ–≤—ã–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ textarea
            if (textarea) {
                textarea.addEventListener('click', function() {
                    this.select();
                });
            }
        }, 100);

        // –û—á–∏—Å—Ç–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –ø–æ–∫–∞–∑–∞
        GM_setValue('pending_update_code', null);
        GM_setValue('pending_update_version', null);
    }

    // ========== –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò –ê–í–¢–û–û–ë–ù–û–í–õ–ï–ù–ò–Ø ==========

    // –û—Ç–∫—Ä—ã—Ç—å Raw –≤–µ—Ä—Å–∏—é —Å–∫—Ä–∏–ø—Ç–∞ –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ
    function openRawScript() {
        const rawUrl = getActualRawUrl();
        window.open(rawUrl, '_blank');
        showNotification('–û—Ç–∫—Ä—ã—Ç–∞ Raw –≤–µ—Ä—Å–∏—è —Å–∫—Ä–∏–ø—Ç–∞', 'info');
    }

    // ========== –£–ü–†–ê–í–õ–ï–ù–ò–ï –ù–ê–°–¢–†–û–ô–ö–ê–ú–ò ==========

    // –ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ localStorage (—Ç–æ–ª—å–∫–æ —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ –∏ –∞–∫—Ç–∏–≤–Ω—ã–π —Å—Ç–æ–ª)
    function loadSettings() {
        // –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ–∫—É—â–∏–π –∞–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–µ—Å–µ—Ç
        const savedCurrentPreset = localStorage.getItem('wms_current_preset');
        if (savedCurrentPreset && TABLE_PRESETS[savedCurrentPreset]) {
            currentPreset = savedCurrentPreset;
            console.log('–ó–∞–≥—Ä—É–∂–µ–Ω –∞–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–µ—Å–µ—Ç:', currentPreset);
        }

        // –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞
        const savedFontSize = localStorage.getItem('wms_font_size');
        if (savedFontSize) {
            LARGE_FONT_SIZE = savedFontSize;
            console.log('–ó–∞–≥—Ä—É–∂–µ–Ω —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞:', LARGE_FONT_SIZE);
        }
    }

    // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ localStorage (—Ç–æ–ª—å–∫–æ —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ –∏ –∞–∫—Ç–∏–≤–Ω—ã–π —Å—Ç–æ–ª)
    function saveSettings() {
        localStorage.setItem('wms_font_size', LARGE_FONT_SIZE);
        localStorage.setItem('wms_current_preset', currentPreset);
        console.log('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã: —Å—Ç–æ–ª =', currentPreset, ', —à—Ä–∏—Ñ—Ç =', LARGE_FONT_SIZE);
    }

    // –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –º–∞–ø–ø–∏–Ω–≥–∏ (–≤—Å–µ–≥–¥–∞ –∏–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö)
    function getCurrentMappings() {
        return TABLE_PRESETS[currentPreset] || {};
    }

    // ========== –†–ê–ë–û–¢–ê –° –ü–†–ï–°–ï–¢–ê–ú–ò ==========

    // –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø—Ä–µ—Å–µ—Ç
    function switchToPreset(presetName) {
        if (TABLE_PRESETS[presetName]) {
            currentPreset = presetName;
            saveSettings();
            console.log(`–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–æ –Ω–∞ –ø—Ä–µ—Å–µ—Ç: ${presetName}`);
            return true;
        }
        return false;
    }

    // ========== –û–ë–†–ê–ë–û–¢–ö–ê –ù–ê–ó–í–ê–ù–ò–ô –ù–ê–ü–†–ê–í–õ–ï–ù–ò–ô ==========

    // –§—É–Ω–∫—Ü–∏—è –ø–æ–∏—Å–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π
    function findMappingByLocationName(fullDirection, mappings) {
        if (!fullDirection || !mappings) {
            console.log('üîç –ü–æ–∏—Å–∫: –ø—É—Å—Ç–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–ª–∏ –º–∞–ø–ø–∏–Ω–≥–∏');
            return null;
        }

        console.log('üîç –ù–∞—á–∏–Ω–∞–µ–º –ø–æ–∏—Å–∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π...');
        console.log('üìç –ü–æ–ª–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:', `"${fullDirection}"`);

        // –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –ø–æ–∏—Å–∫–∞
        const normalizedDirection = fullDirection.toLowerCase().trim();

        // –°–Ω–∞—á–∞–ª–∞ –∏—â–µ–º —Ç–æ—á–Ω—ã–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏–π –∏–∑ –º–∞–ø–ø–∏–Ω–≥–∞ –≤ –ø–æ–ª–Ω–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏
        for (const [mappingKey, mappingValue] of Object.entries(mappings)) {
            const normalizedKey = mappingKey.toLowerCase().trim();

            console.log(`üîç –ü—Ä–æ–≤–µ—Ä—è–µ–º: "${mappingKey}" ‚Üí "${mappingValue}"`);

            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–∑ –º–∞–ø–ø–∏–Ω–≥–∞ –≤ –ø–æ–ª–Ω–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏
            if (normalizedDirection.includes(normalizedKey)) {
                console.log(`‚úÖ –ù–ê–ô–î–ï–ù–û –¢–û–ß–ù–û–ï –°–û–í–ü–ê–î–ï–ù–ò–ï: "${mappingKey}" —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –≤ "${fullDirection}"`);
                console.log(`üì¶ –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä: ${mappingValue}`);
                return mappingValue;
            }
        }

        console.log('üîç –¢–æ—á–Ω—ã—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –Ω–µ –Ω–∞–π–¥–µ–Ω–æ, –ø—Ä–æ–±—É–µ–º —á–∞—Å—Ç–∏—á–Ω—ã–µ...');

        // –ï—Å–ª–∏ —Ç–æ—á–Ω—ã—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –Ω–µ—Ç, –∏—â–µ–º —á–∞—Å—Ç–∏—á–Ω—ã–µ (–±–æ–ª–µ–µ –º—è–≥–∫–∏–π –ø–æ–∏—Å–∫)
        for (const [mappingKey, mappingValue] of Object.entries(mappings)) {
            const normalizedKey = mappingKey.toLowerCase().trim();

            // –†–∞–∑–±–∏–≤–∞–µ–º –Ω–∞ —Å–ª–æ–≤–∞ –∏ –∏—â–µ–º —á–∞—Å—Ç–∏—á–Ω—ã–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è
            const keyWords = normalizedKey.split(/\s+/);
            const directionWords = normalizedDirection.split(/\s+/);

            // –ï—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ —Å–ª–æ–≤–æ –∏–∑ –∫–ª—é—á–∞ –µ—Å—Ç—å –≤ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏
            let hasPartialMatch = false;
            for (const keyWord of keyWords) {
                if (keyWord.length >= 3) { // –ú–∏–Ω–∏–º—É–º 3 —Å–∏–º–≤–æ–ª–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞
                    for (const dirWord of directionWords) {
                        if (dirWord.includes(keyWord) || keyWord.includes(dirWord)) {
                            hasPartialMatch = true;
                            break;
                        }
                    }
                }
                if (hasPartialMatch) break;
            }

            if (hasPartialMatch) {
                console.log(`üîç –ù–ê–ô–î–ï–ù–û –ß–ê–°–¢–ò–ß–ù–û–ï –°–û–í–ü–ê–î–ï–ù–ò–ï: "${mappingKey}" ~ "${fullDirection}"`);
                console.log(`üì¶ –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä: ${mappingValue}`);
                return mappingValue;
            }
        }

        console.log('‚ùå –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ');
        console.log('üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–∞–ø–ø–∏–Ω–≥–∏:', Object.keys(mappings));
        return null;
    }

    // –§—É–Ω–∫—Ü–∏—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏—è (–∫–∞–∫ fallback)
    function extractLocationName(fullDirection) {
        if (!fullDirection) return null;

        // –£–±–∏—Ä–∞–µ–º –∫–æ–¥ –≤ —Å–∫–æ–±–∫–∞—Ö –≤ –Ω–∞—á–∞–ª–µ: (–ê-12) –∏–ª–∏ (–ë-15) –∏ —Ç.–¥.
        let cleaned = fullDirection.replace(/^\([^)]+\)\s*/, '');

        // –£–±–∏—Ä–∞–µ–º –Ω–æ–º–µ—Ä–∞ –≤ –∫–æ–Ω—Ü–µ: ---123--- –∏–ª–∏ --456-- –∏ —Ç.–¥.
        cleaned = cleaned.replace(/---.*$/, '');
        cleaned = cleaned.replace(/--.*$/, '');

        // –£–±–∏—Ä–∞–µ–º –ª–∏—à–Ω–∏–µ –ø—Ä–æ–±–µ–ª—ã
        cleaned = cleaned.trim();

        return cleaned || null;
    }

    // ========== CSS –°–¢–ò–õ–ò ==========

    // –î–æ–±–∞–≤–∏—Ç—å CSS —Å—Ç–∏–ª–∏ –≤ head
    function injectCSS() {
        const styleId = 'wms-override-styles';

        // –£–¥–∞–ª–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å—Ç–∏–ª–∏ –µ—Å–ª–∏ –µ—Å—Ç—å
        const existingStyle = document.getElementById(styleId);
        if (existingStyle) {
            existingStyle.remove();
        }

        const style = document.createElement('style');
        style.id = styleId;
        style.textContent = `
            .wms-large-container {
                font-size: ${LARGE_FONT_SIZE} !important;
                font-weight: bold !important;
                color: #2c3e50 !important;
                text-shadow: 2px 2px 4px rgba(0,0,0,0.3) !important;
                line-height: 1.2 !important;
                font-family: Arial, sans-serif !important;
            }
            .wms-highlight {
                background-color: #e8f5e8 !important;
                border: 3px solid #4CAF50 !important;
                transition: all 0.3s ease !important;
                border-radius: 4px !important;
                padding: 2px 4px !important;
            }
            .wms-tab-button {
                background: #f0f0f0;
                border: 1px solid #ddd;
                padding: 8px 12px;
                margin: 2px;
                border-radius: 4px;
                cursor: pointer;
                font-size: 11px;
                transition: all 0.2s ease;
            }
            .wms-tab-button:hover {
                background: #e0e0e0;
            }
            .wms-tab-button.active {
                background: #4CAF50;
                color: white;
                border-color: #4CAF50;
            }
            .wms-section {
                border: 1px solid #ddd;
                border-radius: 5px;
                padding: 10px;
                margin-bottom: 10px;
                background: #f8f9fa;
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;

        document.head.appendChild(style);
        console.log('‚ú® CSS —Å—Ç–∏–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å —Ä–∞–∑–º–µ—Ä–æ–º —à—Ä–∏—Ñ—Ç–∞:', LARGE_FONT_SIZE);
    }

    // ========== –†–ê–ë–û–¢–ê –° XPATH ==========

    // –ü–æ–ª—É—á–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –ø–æ XPath —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
    function getElementByXPath(xpath, useCache = true) {
        const now = Date.now();

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫—ç—à
        if (useCache && cachedElements.lastUpdate > 0 && (now - cachedElements.lastUpdate) < CACHE_LIFETIME) {
            if (xpath === DIRECTION_XPATH && cachedElements.direction) {
                return cachedElements.direction;
            }
            if (xpath === CONTAINER_XPATH_1 && cachedElements.container1) {
                return cachedElements.container1;
            }
            if (xpath === CONTAINER_XPATH_2 && cachedElements.container2) {
                return cachedElements.container2;
            }
        }

        // –ü–æ–ª—É—á–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç
        const result = document.evaluate(xpath, document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null);
        const element = result.singleNodeValue;

        // –û–±–Ω–æ–≤–ª—è–µ–º –∫—ç—à
        if (element) {
            if (xpath === DIRECTION_XPATH) cachedElements.direction = element;
            if (xpath === CONTAINER_XPATH_1) cachedElements.container1 = element;
            if (xpath === CONTAINER_XPATH_2) cachedElements.container2 = element;
            cachedElements.lastUpdate = now;
        }

        return element;
    }

    // –°–±—Ä–æ—Å –∫—ç—à–∞
    function clearElementCache() {
        cachedElements = {
            direction: null,
            container1: null,
            container2: null,
            lastUpdate: 0
        };
        console.log('üóëÔ∏è –ö—ç—à —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –æ—á–∏—â–µ–Ω');
    }

    // ========== –û–°–ù–û–í–ù–´–ï –§–£–ù–ö–¶–ò–ò ==========

    // –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
    function getCurrentDirection(useCache = true) {
        const directionElement = getElementByXPath(DIRECTION_XPATH, useCache);
        return directionElement ? directionElement.textContent.trim() : null;
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è —à—Ä–∏—Ñ—Ç–∞ –≤ –ø–µ—Ä–≤–æ–º –ø–æ–ª–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
    function applyLargeFontToContainer1() {
        const containerElement1 = getElementByXPath(CONTAINER_XPATH_1);
        if (containerElement1) {
            // –£–¥–∞–ª–∏—Ç—å –∫–ª–∞—Å—Å –µ—Å–ª–∏ –µ—Å—Ç—å
            containerElement1.classList.remove('wms-large-container');

            // –î–æ–±–∞–≤–∏—Ç—å –∫–ª–∞—Å—Å —Å –±–æ–ª—å—à–∏–º —à—Ä–∏—Ñ—Ç–æ–º
            containerElement1.classList.add('wms-large-container');

            console.log('‚ú® –ü—Ä–∏–º–µ–Ω–µ–Ω CSS –∫–ª–∞—Å—Å –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–Ω–æ–≥–æ —à—Ä–∏—Ñ—Ç–∞ –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É 1');
            console.log('–†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞:', LARGE_FONT_SIZE);
            console.log('–ö–ª–∞—Å—Å—ã —ç–ª–µ–º–µ–Ω—Ç–∞:', containerElement1.className);

            return true;
        } else {
            console.warn('‚ùå –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä 1 –Ω–µ –Ω–∞–π–¥–µ–Ω –ø–æ XPath:', CONTAINER_XPATH_1);
            return false;
        }
    }

    // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤ –æ–±–∞ –ø–æ–ª—è
    function setContainer(newContainer) {
        console.log(`üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞: ${newContainer}`);

        const containers = [
            { xpath: CONTAINER_XPATH_1, name: '–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä 1' },
            { xpath: CONTAINER_XPATH_2, name: '–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä 2' }
        ];

        let successCount = 0;
        containers.forEach(container => {
            const element = getElementByXPath(container.xpath);
            if (element) {
                const containerValue = newContainer;
                element.textContent = containerValue;
                element.classList.add('wms-highlight');

                console.log(`‚úÖ ${container.name} —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: ${containerValue}`);
                successCount++;
            } else {
                console.warn(`‚ùå ${container.name} –Ω–µ –Ω–∞–π–¥–µ–Ω –ø–æ –ø—É—Ç–∏: ${container.xpath}`);
            }
        });

        if (successCount > 0) {
            // –ü—Ä–∏–º–µ–Ω–∏—Ç—å —É–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π —à—Ä–∏—Ñ—Ç –∫ –ø–µ—Ä–≤–æ–º—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É
            setTimeout(() => {
                applyLargeFontToContainer1();
            }, 100);

            console.log(`‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ ${successCount} –ø–æ–ª—è—Ö: ${newContainer}`);
            return true;
        }
        return false;
    }

    // –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –∑–∞–º–µ–Ω—ã
    function checkAndReplace(forced = false) {
        const currentDirection = getCurrentDirection(!forced);
        const currentMappings = getCurrentMappings();

        console.log('üîÑ === –ù–ê–ß–ê–õ–û –ü–†–û–í–ï–†–ö–ò ===');
        console.log('üìç –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å —Å–∞–π—Ç–∞:', currentDirection || '–ù–ï –ù–ê–ô–î–ï–ù–û');
        console.log('üìã –ê–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–µ—Å–µ—Ç:', currentPreset);
        console.log('üìä –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞–ø–ø–∏–Ω–≥–æ–≤:', Object.keys(currentMappings).length);

        if (currentDirection) {
            // –°–Ω–∞—á–∞–ª–∞ –∏—â–µ–º –Ω–∞–ø—Ä—è–º—É—é –≤ –ø–æ–ª–Ω–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏
            let newContainer = findMappingByLocationName(currentDirection, currentMappings);

            // –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏, –ø—Ä–æ–±—É–µ–º —á–µ—Ä–µ–∑ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è
            if (!newContainer) {
                console.log('üîÑ –ü—Ä–æ–±—É–µ–º –ø–æ–¥—Ö–æ–¥ —Å –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ–º –Ω–∞–∑–≤–∞–Ω–∏—è...');
                const locationName = extractLocationName(currentDirection);
                console.log(`üìù –ò–∑–≤–ª–µ—á–µ–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ: "${locationName}"`);

                if (locationName) {
                    newContainer = findMappingByLocationName(locationName, currentMappings);
                }
            }

            if (newContainer) {
                // –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ - –ø–æ–ª—É—á–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –∏–∑ –∫—ç—à–∞ –µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ
                const containerElement1 = getElementByXPath(CONTAINER_XPATH_1, !forced);
                const containerElement2 = getElementByXPath(CONTAINER_XPATH_2, !forced);

                const currentContainer1 = containerElement1 ? containerElement1.textContent.trim() : '';
                const currentContainer2 = containerElement2 ? containerElement2.textContent.trim() : '';

                if (currentContainer1 !== newContainer || currentContainer2 !== newContainer) {
                    console.log(`üöÄ –ù–ê–ô–î–ï–ù –ö–û–ù–¢–ï–ô–ù–ï–†: ${newContainer}`);
                    console.log('üíæ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä...');
                    setContainer(newContainer);
                    console.log('üîÑ === –ü–†–û–í–ï–†–ö–ê –ó–ê–í–ï–†–®–ï–ù–ê: –£–°–ü–ï–®–ù–û ===');
                    return true;
                } else {
                    console.log('‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ');
                }
            } else {
                console.log('‚ùå –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ');
                if (forced) {
                    console.log('üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ —Ç–µ–∫—É—â–µ–º —Å—Ç–æ–ª–µ:');
                    console.log('   –°—Ç–æ–ª:', currentPreset);
                    console.log('   –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è:', Object.keys(currentMappings));
                }
            }
        } else {
            console.log('‚ùå –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ');
        }

        console.log('üîÑ === –ü–†–û–í–ï–†–ö–ê –ó–ê–í–ï–†–®–ï–ù–ê: –ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô ===');
        return false;
    }

    // –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑ –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (–¥–ª—è —á–∞—Å—Ç—ã—Ö –≤—ã–∑–æ–≤–æ–≤)
    function quickCheck() {
        const currentDirection = getCurrentDirection(true);
        const currentMappings = getCurrentMappings();

        if (currentDirection) {
            // –°–Ω–∞—á–∞–ª–∞ –ø—Ä—è–º–æ–π –ø–æ–∏—Å–∫
            let newContainer = findMappingByLocationName(currentDirection, currentMappings);

            // –ü–æ—Ç–æ–º —á–µ—Ä–µ–∑ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ
            if (!newContainer) {
                const locationName = extractLocationName(currentDirection);
                if (locationName) {
                    newContainer = findMappingByLocationName(locationName, currentMappings);
                }
            }

            if (newContainer) {
                const containerElement1 = getElementByXPath(CONTAINER_XPATH_1, true);

                if (containerElement1) {
                    const currentContainer = containerElement1.textContent.trim();
                    if (currentContainer !== newContainer) {
                        return checkAndReplace(false);
                    }
                }
            }
        }
        return false;
    }

    // ========== –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø ==========

    function showNotification(message, type = 'info') {
        const notification = document.createElement('div');
        notification.style.cssText = `
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            background: ${type === 'success' ? '#4CAF50' : type === 'error' ? '#f44336' : '#2196F3'};
            color: white;
            border-radius: 5px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 10000;
            font-family: Arial, sans-serif;
            font-size: 14px;
            max-width: 300px;
            word-wrap: break-word;
        `;
        notification.textContent = message;

        document.body.appendChild(notification);

        setTimeout(() => {
            if (notification.parentNode) {
                notification.parentNode.removeChild(notification);
            }
        }, 3000);
    }

    // ========== –£–ü–†–û–©–ï–ù–ù–´–ô –ò–ù–¢–ï–†–§–ï–ô–° –£–ü–†–ê–í–õ–ï–ù–ò–Ø ==========

    function createControlPanel() {
        const panel = document.createElement('div');
        panel.id = 'wms-control-panel';
        panel.style.cssText = `
            position: fixed;
            top: 10px;
            left: 10px;
            background: white;
            border: 2px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            z-index: 9999;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            font-family: Arial, sans-serif;
            font-size: 12px;
            max-width: 450px;
            max-height: 80vh;
            overflow-y: auto;
            display: none;
        `;

        const tablesSelectOptions = Object.keys(TABLE_PRESETS).map(tableName => {
            const mappingsCount = Object.keys(TABLE_PRESETS[tableName]).length;
            return `<option value="${tableName}">${tableName} (${mappingsCount} –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π)</option>`;
        }).join('');

        panel.innerHTML = `
            <div style="margin-bottom: 10px; font-weight: bold; color: #333;">
                üöÄ WMS Container Override Enhanced v${getCurrentVersion()}
            </div>
            <div style="margin-bottom: 15px; font-size: 11px; color: #666;">
                –ê–≤—Ç–æ–∑–∞–º–µ–Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
            </div>

            <!-- –¢–∞–±—ã -->
            <div style="margin-bottom: 15px; border-bottom: 1px solid #ddd;">
                <button class="wms-tab-button active" data-tab="main">–û—Å–Ω–æ–≤–Ω–æ–µ</button>
                <button class="wms-tab-button" data-tab="mappings">–ú–∞–ø–ø–∏–Ω–≥–∏</button>
                <button class="wms-tab-button" data-tab="updates">–û–±–Ω–æ–≤–ª–µ–Ω–∏—è</button>
            </div>

            <!-- –û—Å–Ω–æ–≤–Ω–∞—è –≤–∫–ª–∞–¥–∫–∞ -->
            <div id="wms-tab-main" class="wms-tab-content">
                <div class="wms-section">
                    <div style="font-weight: bold; margin-bottom: 8px; color: #333;">
                        üéØ –ê–∫—Ç–∏–≤–Ω—ã–π —Å—Ç–æ–ª: <span style="color: #FF5722;">${currentPreset}</span>
                    </div>
                    <div style="display: flex; gap: 5px; align-items: center; margin-bottom: 8px;">
                        <select id="wms-table-preset" style="flex: 1; padding: 5px; border: 1px solid #ddd; border-radius: 3px; font-size: 11px;">
                            <option value="">-- –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ —Å—Ç–æ–ª --</option>
                            ${tablesSelectOptions}
                        </select>
                        <button id="wms-switch-preset" style="padding: 5px 10px; background: #FF5722; color: white; border: none; border-radius: 3px; cursor: pointer; font-size: 11px;">
                            –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å
                        </button>
                    </div>
                    <div style="font-size: 10px; color: #888; margin-top: 5px;">
                        üìä –¢–µ–∫—É—â–∏–π —Å—Ç–æ–ª —Å–æ–¥–µ—Ä–∂–∏—Ç ${Object.keys(getCurrentMappings()).length} –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π
                    </div>
                </div>

                <div class="wms-section">
                    <label style="display: block; margin-bottom: 5px; font-weight: bold;">–†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ (px):</label>
                    <div style="display: flex; gap: 5px; align-items: center;">
                        <input type="number" id="wms-font-size-input" value="${parseInt(LARGE_FONT_SIZE)}" min="12" max="200" style="width: 80px; padding: 5px; border: 1px solid #ddd; border-radius: 3px;">
                        <span style="font-size: 11px; color: #666;">px</span>
                        <button id="wms-apply-font-size" style="padding: 5px 10px; background: #9C27B0; color: white; border: none; border-radius: 3px; cursor: pointer; font-size: 11px;">
                            –ü—Ä–∏–º–µ–Ω–∏—Ç—å
                        </button>
                    </div>
                    <div style="font-size: 10px; color: #888; margin-top: 2px;" class="current-font-size">–¢–µ–∫—É—â–∏–π: ${LARGE_FONT_SIZE}</div>
                </div>


            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞ –º–∞–ø–ø–∏–Ω–≥–æ–≤ (—Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä) -->
            <div id="wms-tab-mappings" class="wms-tab-content" style="display: none;">
                <div class="wms-section">
                    <div style="font-weight: bold; margin-bottom: 10px; color: #333;">
                        üìã –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ ${currentPreset}
                        <span style="color: #666; font-weight: normal;">(${Object.keys(getCurrentMappings()).length})</span>
                    </div>
                    <div style="background: #fffbf0; padding: 10px; border-radius: 5px; margin-bottom: 15px; font-size: 11px; color: #8b5cf6;">
                        ‚ÑπÔ∏è –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Å—Ç—Ä–æ–µ–Ω—ã –≤ –∫–æ–¥ —Å–∫—Ä–∏–ø—Ç–∞ (—Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä)
                    </div>
                    <div id="wms-mappings-display" style="max-height: 300px; overflow-y: auto; border: 1px solid #eee; padding: 5px; background: #f9f9f9;"></div>
                </div>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π -->
            <div id="wms-tab-updates" class="wms-tab-content" style="display: none;">
                <div class="wms-section">
                    <div style="font-weight: bold; margin-bottom: 10px; color: #333;">
                        üöÄ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞
                    </div>

                    <div style="margin-bottom: 15px; padding: 10px; background: #e3f2fd; border-radius: 5px; font-size: 11px;">
                        <div style="font-weight: bold; color: #1976d2; margin-bottom: 5px;">–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è:</div>
                        <div style="color: #333;">v${getCurrentVersion()}</div>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <button id="wms-update-script" style="width: 100%; padding: 15px 20px; background: #4CAF50; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; font-size: 16px;">
                            üöÄ –û–±–Ω–æ–≤–∏—Ç—å
                        </button>
                    </div>
                    <div style="margin-bottom: 15px; font-size: 11px; color: #666; line-height: 1.4;">
                        <div style="font-weight: bold; margin-bottom: 5px;">–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:</div>
                        ‚Ä¢ –ö–Ω–æ–ø–∫–∞ "–û–±–Ω–æ–≤–∏—Ç—å" –æ—Ç–∫—Ä–æ–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é —Å–∫—Ä–∏–ø—Ç–∞<br>
                        ‚Ä¢ –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–π –∫–æ–¥ –∏ –∑–∞–º–µ–Ω–∏—Ç–µ —Å—Ç–∞—Ä—ã–π –≤ Tampermonkey<br>
                        ‚Ä¢ <strong>–°–∫—Ä–∏–ø—Ç –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</strong><br>
                        ‚Ä¢ –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
                    </div>
                </div>
            </div>

            <div style="margin-top: 15px; text-align: center; padding-top: 10px; border-top: 1px solid #ddd;">
                <button id="wms-close-panel" style="padding: 5px 15px; background: #666; color: white; border: none; border-radius: 3px; cursor: pointer;">
                    –ó–∞–∫—Ä—ã—Ç—å
                </button>
            </div>
        `;

        document.body.appendChild(panel);

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ç–∞–±–æ–≤
        panel.querySelectorAll('.wms-tab-button').forEach(button => {
            button.addEventListener('click', function() {
                const tabName = this.dataset.tab;

                // –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
                panel.querySelectorAll('.wms-tab-button').forEach(btn => btn.classList.remove('active'));
                this.classList.add('active');

                // –ü–æ–∫–∞–∑–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç
                panel.querySelectorAll('.wms-tab-content').forEach(content => {
                    content.style.display = 'none';
                });
                const targetContent = panel.querySelector(`#wms-tab-${tabName}`);
                if (targetContent) {
                    targetContent.style.display = 'block';
                }
            });
        });

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
        setupPanelEventHandlers(panel);

        // –û–±–Ω–æ–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–∞–ø–ø–∏–Ω–≥–æ–≤
        updateMappingsDisplay();
    }

    function setupPanelEventHandlers(panel) {
        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–µ—Å–µ—Ç–∞
        const switchPresetBtn = document.getElementById('wms-switch-preset');
        if (switchPresetBtn) {
            switchPresetBtn.addEventListener('click', function() {
                const selectedTable = document.getElementById('wms-table-preset').value;
                if (selectedTable) {
                    const success = switchToPreset(selectedTable);
                    if (success) {
                        panel.style.display = 'none';
                        createControlPanel();
                        document.getElementById('wms-control-panel').style.display = 'block';
                        showNotification(`–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–æ –Ω–∞ "${selectedTable}" —Å ${Object.keys(getCurrentMappings()).length} –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏`, 'success');
                    } else {
                        showNotification('–û—à–∏–±–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–µ—Å–µ—Ç–∞', 'error');
                    }
                } else {
                    showNotification('–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–æ–ª –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è', 'error');
                }
            });
        }

        // –ö–Ω–æ–ø–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
        const updateScriptBtn = document.getElementById('wms-update-script');
        if (updateScriptBtn) {
            updateScriptBtn.addEventListener('click', function() {
                openRawScript();
            });
        }

        // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —à—Ä–∏—Ñ—Ç–∞
        const applyFontSizeBtn = document.getElementById('wms-apply-font-size');
        if (applyFontSizeBtn) {
            applyFontSizeBtn.addEventListener('click', function() {
                const newSize = document.getElementById('wms-font-size-input').value;
                if (newSize && newSize >= 12 && newSize <= 200) {
                    LARGE_FONT_SIZE = newSize + 'px';
                    saveSettings();
                    injectCSS();
                    applyLargeFontToContainer1();
                    const currentFontSizeElement = document.querySelector('#wms-control-panel .current-font-size');
                    if (currentFontSizeElement) {
                        currentFontSizeElement.textContent = `–¢–µ–∫—É—â–∏–π: ${LARGE_FONT_SIZE}`;
                    }
                    showNotification(`–†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ ${LARGE_FONT_SIZE}`, 'success');
                } else {
                    showNotification('–†–∞–∑–º–µ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç 12 –¥–æ 200 –ø–∏–∫—Å–µ–ª–µ–π', 'error');
                }
            });
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–∞–Ω–µ–ª–∏
        const closePanelBtn = document.getElementById('wms-close-panel');
        if (closePanelBtn) {
            closePanelBtn.addEventListener('click', function() {
                panel.style.display = 'none';
            });
        }
    }

    // –û–±–Ω–æ–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–∞–ø–ø–∏–Ω–≥–æ–≤ (—Ç–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞)
    function updateMappingsDisplay() {
        const displayElement = document.getElementById('wms-mappings-display');
        if (displayElement) {
            displayElement.innerHTML = '';
            const currentMappings = getCurrentMappings();

            for (const [locationName, container] of Object.entries(currentMappings)) {
                const item = document.createElement('div');
                item.style.cssText = 'margin-bottom: 8px; padding: 5px; background: white; border-radius: 3px; font-size: 11px;';

                const locationDiv = document.createElement('div');
                locationDiv.style.cssText = 'font-weight: bold; color: #333;';
                locationDiv.textContent = locationName;

                const containerDiv = document.createElement('div');
                containerDiv.style.cssText = 'color: #666;';
                containerDiv.textContent = `‚Üí ${container}`;

                item.appendChild(locationDiv);
                item.appendChild(containerDiv);
                displayElement.appendChild(item);
            }
        }
    }

    // ========== –£–ü–†–ê–í–õ–ï–ù–ò–ï –†–ï–ñ–ò–ú–ê–ú–ò ==========

    function startNormalMode() {
        if (normalCheckTimer) {
            clearInterval(normalCheckTimer);
        }

        // –ü—Ä–∏–º–µ–Ω–∏—Ç—å —É–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π —à—Ä–∏—Ñ—Ç
        setTimeout(() => {
            applyLargeFontToContainer1();
        }, 500);

        // –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –±—ã—Å—Ç—Ä—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫
        normalCheckTimer = setInterval(() => {
            if (isEnabled) {
                quickCheck();
                applyLargeFontToContainer1(); // –ü–µ—Ä–µ–ø—Ä–∏–º–µ–Ω—è–µ–º —à—Ä–∏—Ñ—Ç
            }
        }, CHECK_INTERVAL);

        console.log(`üöÄ –ó–∞–ø—É—â–µ–Ω –æ–±—ã—á–Ω—ã–π —Ä–µ–∂–∏–º (–∫–∞–∂–¥—ã–µ ${CHECK_INTERVAL}ms)`);
    }

    function startFastCheckMode() {
        if (fastCheckTimer) {
            clearInterval(fastCheckTimer);
        }

        fastCheckTimer = setInterval(() => {
            if (isEnabled) {
                quickCheck();
            }
        }, 100); // –£–ª—å—Ç—Ä–∞–±—ã—Å—Ç—Ä—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞–∂–¥—ã–µ 100ms

        // –û—Ç–∫–ª—é—á–∞–µ–º –±—ã—Å—Ç—Ä—ã–π —Ä–µ–∂–∏–º —á–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥
        setTimeout(() => {
            if (fastCheckTimer) {
                clearInterval(fastCheckTimer);
                fastCheckTimer = null;
                console.log('‚ö° –ë—ã—Å—Ç—Ä—ã–π —Ä–µ–∂–∏–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫–ª—é—á–µ–Ω');
            }
        }, 10000);

        console.log('‚ö° –ó–∞–ø—É—â–µ–Ω –±—ã—Å—Ç—Ä—ã–π —Ä–µ–∂–∏–º –ø—Ä–æ–≤–µ—Ä–æ–∫ (100ms –Ω–∞ 10 —Å–µ–∫)');
    }

    // ========== –ú–û–ù–ò–¢–û–†–ò–ù–ì DOM ==========

    function setupDOMObserver() {
        if (!window.MutationObserver) {
            console.warn('MutationObserver –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è');
            return;
        }

        const observer = new MutationObserver((mutations) => {
            if (!isEnabled) return;

            let shouldCheck = false;

            mutations.forEach((mutation) => {
                if (mutation.type === 'childList' || mutation.type === 'characterData') {
                    const target = mutation.target;

                    // –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ - –∏—â–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –æ–±–ª–∞—Å—Ç—è—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
                    if (target.tagName === 'B' || target.tagName === 'H1' ||
                        target.closest('div[5]') || target.querySelector('b, h1')) {
                        shouldCheck = true;
                    }
                }
            });

            if (shouldCheck) {
                setTimeout(quickCheck, 50);
            }
        });

        observer.observe(document.body, {
            childList: true,
            subtree: true,
            characterData: true
        });

        console.log('üëÄ DOM Observer –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω');
    }

    // ========== –ì–û–†–Ø–ß–ò–ï –ö–õ–ê–í–ò–®–ò ==========

    function setupHotkeys() {
        document.addEventListener('keydown', function(e) {
            // Ctrl+Shift+W - –æ—Ç–∫—Ä—ã—Ç—å/–∑–∞–∫—Ä—ã—Ç—å –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
            if (e.ctrlKey && e.shiftKey && e.code === 'KeyW') {
                e.preventDefault();
                const panel = document.getElementById('wms-control-panel');
                if (panel) {
                    panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
                } else {
                    createControlPanel();
                    document.getElementById('wms-control-panel').style.display = 'block';
                }
            }

            // Ctrl+Shift+T - –±—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç
            if (e.ctrlKey && e.shiftKey && e.code === 'KeyT') {
                e.preventDefault();
                clearElementCache();
                checkAndReplace(true);
                showNotification('–ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞', 'info');
            }

            // Ctrl+Shift+F - –ø—Ä–∏–º–µ–Ω–∏—Ç—å —à—Ä–∏—Ñ—Ç –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ
            if (e.ctrlKey && e.shiftKey && e.code === 'KeyF') {
                e.preventDefault();
                applyLargeFontToContainer1();
                showNotification('–®—Ä–∏—Ñ—Ç –ø–µ—Ä–µ–ø—Ä–∏–º–µ–Ω–µ–Ω –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ', 'info');
            }

            // Ctrl+Shift+Q - —Ä–µ–∂–∏–º –±—ã—Å—Ç—Ä—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫
            if (e.ctrlKey && e.shiftKey && e.code === 'KeyQ') {
                e.preventDefault();
                startFastCheckMode();
                showNotification('–†–µ–∂–∏–º –±—ã—Å—Ç—Ä—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ –∑–∞–ø—É—â–µ–Ω!', 'info');
            }

            // Ctrl+Shift+U - –æ—Ç–∫—Ä—ã—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (Raw –≤–µ—Ä—Å–∏—é)
            if (e.ctrlKey && e.shiftKey && e.code === 'KeyU') {
                e.preventDefault();
                openRawScript();
            }
        });

        console.log('‚å®Ô∏è –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω—ã:');
        console.log('‚Ä¢ Ctrl+Shift+W - –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è');
        console.log('‚Ä¢ Ctrl+Shift+T - –±—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç');
        console.log('‚Ä¢ Ctrl+Shift+U - –æ–±–Ω–æ–≤–∏—Ç—å —Å–∫—Ä–∏–ø—Ç (Raw)');
        console.log('‚Ä¢ Ctrl+Shift+F - –ø–µ—Ä–µ–ø—Ä–∏–º–µ–Ω–∏—Ç—å —à—Ä–∏—Ñ—Ç');
        console.log('‚Ä¢ Ctrl+Shift+Q - –±—ã—Å—Ç—Ä—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏');
    }

    // ========== –ö–ù–û–ü–ö–ê –£–ü–†–ê–í–õ–ï–ù–ò–Ø ==========

    function createToggleButton() {
        const button = document.createElement('button');
        button.id = 'wms-toggle-button';
        button.innerHTML = '‚öôÔ∏è';
        button.style.cssText = `
            position: fixed;
            top: 10px;
            right: 10px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #4CAF50;
            color: white;
            border: none;
            font-size: 20px;
            cursor: pointer;
            z-index: 9998;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            transition: all 0.3s ease;
        `;

        button.addEventListener('click', function() {
            const panel = document.getElementById('wms-control-panel');
            if (panel) {
                panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
            } else {
                createControlPanel();
                document.getElementById('wms-control-panel').style.display = 'block';
            }
        });

        button.addEventListener('mouseenter', function() {
            button.style.transform = 'scale(1.1)';
        });

        button.addEventListener('mouseleave', function() {
            button.style.transform = 'scale(1)';
        });

        document.body.appendChild(button);
    }

    // ========== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ==========

    // –§—É–Ω–∫—Ü–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
    function initialize() {
        console.log('üöÄ WMS Container Override Enhanced v' + getCurrentVersion() + ' –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω');

        // –í–Ω–µ–¥—Ä–∏—Ç—å CSS —Å—Ç–∏–ª–∏
        injectCSS();

        // –ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
        loadSettings();

        // –°–æ–∑–¥–∞—Ç—å –∫–Ω–æ–ø–∫—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
        createToggleButton();

        // –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏
        setupHotkeys();

        // –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å –∑–∞ DOM
        setupDOMObserver();

        // –ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–±—ã—á–Ω—ã–π —Ä–µ–∂–∏–º
        startNormalMode();

        // –ù–∞—á–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
        setTimeout(() => {
            checkAndReplace(true);
        }, 1000);

        showNotification(`WMS Override Enhanced v${getCurrentVersion()} –∞–∫—Ç–∏–≤–µ–Ω! –°—Ç–æ–ª: "${currentPreset}" (${Object.keys(getCurrentMappings()).length} –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π)`, 'success');
    }

    // –û–∂–∏–¥–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ DOM
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initialize);
    } else {
        setTimeout(initialize, 150);
    }

    console.log('‚úÖ WMS Container Override Enhanced v' + getCurrentVersion() + ' –∑–∞–≥—Ä—É–∂–µ–Ω');

})();
